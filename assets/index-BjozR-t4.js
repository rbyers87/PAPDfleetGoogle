function np(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var We=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Jc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function sp(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var s=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return t[n]}})}),r}var Xc={exports:{}},Ri={},Zc={exports:{}},M={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ms=Symbol.for("react.element"),ip=Symbol.for("react.portal"),op=Symbol.for("react.fragment"),ap=Symbol.for("react.strict_mode"),lp=Symbol.for("react.profiler"),up=Symbol.for("react.provider"),cp=Symbol.for("react.context"),dp=Symbol.for("react.forward_ref"),fp=Symbol.for("react.suspense"),hp=Symbol.for("react.memo"),pp=Symbol.for("react.lazy"),ou=Symbol.iterator;function mp(t){return t===null||typeof t!="object"?null:(t=ou&&t[ou]||t["@@iterator"],typeof t=="function"?t:null)}var ed={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},td=Object.assign,rd={};function dn(t,e,r){this.props=t,this.context=e,this.refs=rd,this.updater=r||ed}dn.prototype.isReactComponent={};dn.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};dn.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nd(){}nd.prototype=dn.prototype;function Qa(t,e,r){this.props=t,this.context=e,this.refs=rd,this.updater=r||ed}var Ya=Qa.prototype=new nd;Ya.constructor=Qa;td(Ya,dn.prototype);Ya.isPureReactComponent=!0;var au=Array.isArray,sd=Object.prototype.hasOwnProperty,Ga={current:null},id={key:!0,ref:!0,__self:!0,__source:!0};function od(t,e,r){var n,s={},i=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)sd.call(e,n)&&!id.hasOwnProperty(n)&&(s[n]=e[n]);var a=arguments.length-2;if(a===1)s.children=r;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)s[n]===void 0&&(s[n]=a[n]);return{$$typeof:ms,type:t,key:i,ref:o,props:s,_owner:Ga.current}}function gp(t,e){return{$$typeof:ms,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ja(t){return typeof t=="object"&&t!==null&&t.$$typeof===ms}function vp(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var lu=/\/+/g;function no(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vp(""+t.key):e.toString(36)}function Hs(t,e,r,n,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ms:case ip:o=!0}}if(o)return o=t,s=s(o),t=n===""?"."+no(o,0):n,au(s)?(r="",t!=null&&(r=t.replace(lu,"$&/")+"/"),Hs(s,e,r,"",function(c){return c})):s!=null&&(Ja(s)&&(s=gp(s,r+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(lu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,n=n===""?".":n+":",au(t))for(var a=0;a<t.length;a++){i=t[a];var l=n+no(i,a);o+=Hs(i,e,r,l,s)}else if(l=mp(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=n+no(i,a++),o+=Hs(i,e,r,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ss(t,e,r){if(t==null)return t;var n=[],s=0;return Hs(t,n,"","",function(i){return e.call(r,i,s++)}),n}function yp(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ke={current:null},qs={transition:null},wp={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:qs,ReactCurrentOwner:Ga};function ad(){throw Error("act(...) is not supported in production builds of React.")}M.Children={map:Ss,forEach:function(t,e,r){Ss(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ss(t,function(){e++}),e},toArray:function(t){return Ss(t,function(e){return e})||[]},only:function(t){if(!Ja(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};M.Component=dn;M.Fragment=op;M.Profiler=lp;M.PureComponent=Qa;M.StrictMode=ap;M.Suspense=fp;M.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wp;M.act=ad;M.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=td({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ga.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)sd.call(e,l)&&!id.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:ms,type:t.type,key:s,ref:i,props:n,_owner:o}};M.createContext=function(t){return t={$$typeof:cp,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:up,_context:t},t.Consumer=t};M.createElement=od;M.createFactory=function(t){var e=od.bind(null,t);return e.type=t,e};M.createRef=function(){return{current:null}};M.forwardRef=function(t){return{$$typeof:dp,render:t}};M.isValidElement=Ja;M.lazy=function(t){return{$$typeof:pp,_payload:{_status:-1,_result:t},_init:yp}};M.memo=function(t,e){return{$$typeof:hp,type:t,compare:e===void 0?null:e}};M.startTransition=function(t){var e=qs.transition;qs.transition={};try{t()}finally{qs.transition=e}};M.unstable_act=ad;M.useCallback=function(t,e){return ke.current.useCallback(t,e)};M.useContext=function(t){return ke.current.useContext(t)};M.useDebugValue=function(){};M.useDeferredValue=function(t){return ke.current.useDeferredValue(t)};M.useEffect=function(t,e){return ke.current.useEffect(t,e)};M.useId=function(){return ke.current.useId()};M.useImperativeHandle=function(t,e,r){return ke.current.useImperativeHandle(t,e,r)};M.useInsertionEffect=function(t,e){return ke.current.useInsertionEffect(t,e)};M.useLayoutEffect=function(t,e){return ke.current.useLayoutEffect(t,e)};M.useMemo=function(t,e){return ke.current.useMemo(t,e)};M.useReducer=function(t,e,r){return ke.current.useReducer(t,e,r)};M.useRef=function(t){return ke.current.useRef(t)};M.useState=function(t){return ke.current.useState(t)};M.useSyncExternalStore=function(t,e,r){return ke.current.useSyncExternalStore(t,e,r)};M.useTransition=function(){return ke.current.useTransition()};M.version="18.3.1";Zc.exports=M;var b=Zc.exports;const Ir=Jc(b),xp=np({__proto__:null,default:Ir},[b]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _p=b,bp=Symbol.for("react.element"),kp=Symbol.for("react.fragment"),Sp=Object.prototype.hasOwnProperty,jp=_p.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ep={key:!0,ref:!0,__self:!0,__source:!0};function ld(t,e,r){var n,s={},i=null,o=null;r!==void 0&&(i=""+r),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Sp.call(e,n)&&!Ep.hasOwnProperty(n)&&(s[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:bp,type:t,key:i,ref:o,props:s,_owner:jp.current}}Ri.Fragment=kp;Ri.jsx=ld;Ri.jsxs=ld;Xc.exports=Ri;var u=Xc.exports,ud={exports:{}},Ie={},cd={exports:{}},dd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(k,O){var A=k.length;k.push(O);e:for(;0<A;){var z=A-1>>>1,K=k[z];if(0<s(K,O))k[z]=O,k[A]=K,A=z;else break e}}function r(k){return k.length===0?null:k[0]}function n(k){if(k.length===0)return null;var O=k[0],A=k.pop();if(A!==O){k[0]=A;e:for(var z=0,K=k.length,Qe=K>>>1;z<Qe;){var je=2*(z+1)-1,sr=k[je],S=je+1,$=k[S];if(0>s(sr,A))S<K&&0>s($,sr)?(k[z]=$,k[S]=A,z=S):(k[z]=sr,k[je]=A,z=je);else if(S<K&&0>s($,A))k[z]=$,k[S]=A,z=S;else break e}}return O}function s(k,O){var A=k.sortIndex-O.sortIndex;return A!==0?A:k.id-O.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],f=1,d=null,m=3,v=!1,y=!1,x=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,h=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(k){for(var O=r(c);O!==null;){if(O.callback===null)n(c);else if(O.startTime<=k)n(c),O.sortIndex=O.expirationTime,e(l,O);else break;O=r(c)}}function _(k){if(x=!1,p(k),!y)if(r(l)!==null)y=!0,it(j);else{var O=r(c);O!==null&&Ke(_,O.startTime-k)}}function j(k,O){y=!1,x&&(x=!1,g(R),R=-1),v=!0;var A=m;try{for(p(O),d=r(l);d!==null&&(!(d.expirationTime>O)||k&&!te());){var z=d.callback;if(typeof z=="function"){d.callback=null,m=d.priorityLevel;var K=z(d.expirationTime<=O);O=t.unstable_now(),typeof K=="function"?d.callback=K:d===r(l)&&n(l),p(O)}else n(l);d=r(l)}if(d!==null)var Qe=!0;else{var je=r(c);je!==null&&Ke(_,je.startTime-O),Qe=!1}return Qe}finally{d=null,m=A,v=!1}}var N=!1,C=null,R=-1,U=5,L=-1;function te(){return!(t.unstable_now()-L<U)}function P(){if(C!==null){var k=t.unstable_now();L=k;var O=!0;try{O=C(!0,k)}finally{O?ce():(N=!1,C=null)}}else N=!1}var ce;if(typeof h=="function")ce=function(){h(P)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,qe=He.port2;He.port1.onmessage=P,ce=function(){qe.postMessage(null)}}else ce=function(){w(P,0)};function it(k){C=k,N||(N=!0,ce())}function Ke(k,O){R=w(function(){k(t.unstable_now())},O)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(k){k.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,it(j))},t.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<k?Math.floor(1e3/k):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(k){switch(m){case 1:case 2:case 3:var O=3;break;default:O=m}var A=m;m=O;try{return k()}finally{m=A}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(k,O){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var A=m;m=k;try{return O()}finally{m=A}},t.unstable_scheduleCallback=function(k,O,A){var z=t.unstable_now();switch(typeof A=="object"&&A!==null?(A=A.delay,A=typeof A=="number"&&0<A?z+A:z):A=z,k){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=A+K,k={id:f++,callback:O,priorityLevel:k,startTime:A,expirationTime:K,sortIndex:-1},A>z?(k.sortIndex=A,e(c,k),r(l)===null&&k===r(c)&&(x?(g(R),R=-1):x=!0,Ke(_,A-z))):(k.sortIndex=K,e(l,k),y||v||(y=!0,it(j))),k},t.unstable_shouldYield=te,t.unstable_wrapCallback=function(k){var O=m;return function(){var A=m;m=O;try{return k.apply(this,arguments)}finally{m=A}}}})(dd);cd.exports=dd;var Np=cd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Cp=b,Ae=Np;function E(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var fd=new Set,Kn={};function kr(t,e){tn(t,e),tn(t+"Capture",e)}function tn(t,e){for(Kn[t]=e,t=0;t<e.length;t++)fd.add(e[t])}var _t=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zo=Object.prototype.hasOwnProperty,Pp=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,uu={},cu={};function Tp(t){return zo.call(cu,t)?!0:zo.call(uu,t)?!1:Pp.test(t)?cu[t]=!0:(uu[t]=!0,!1)}function Op(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Rp(t,e,r,n){if(e===null||typeof e>"u"||Op(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Se(t,e,r,n,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){me[t]=new Se(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];me[e]=new Se(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){me[t]=new Se(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){me[t]=new Se(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){me[t]=new Se(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){me[t]=new Se(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){me[t]=new Se(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){me[t]=new Se(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){me[t]=new Se(t,5,!1,t.toLowerCase(),null,!1,!1)});var Xa=/[\-:]([a-z])/g;function Za(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xa,Za);me[e]=new Se(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xa,Za);me[e]=new Se(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xa,Za);me[e]=new Se(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){me[t]=new Se(t,1,!1,t.toLowerCase(),null,!1,!1)});me.xlinkHref=new Se("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){me[t]=new Se(t,1,!1,t.toLowerCase(),null,!0,!0)});function el(t,e,r,n){var s=me.hasOwnProperty(e)?me[e]:null;(s!==null?s.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rp(e,r,s,n)&&(r=null),n||s===null?Tp(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):s.mustUseProperty?t[s.propertyName]=r===null?s.type===3?!1:"":r:(e=s.attributeName,n=s.attributeNamespace,r===null?t.removeAttribute(e):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Et=Cp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,js=Symbol.for("react.element"),Dr=Symbol.for("react.portal"),Mr=Symbol.for("react.fragment"),tl=Symbol.for("react.strict_mode"),Wo=Symbol.for("react.profiler"),hd=Symbol.for("react.provider"),pd=Symbol.for("react.context"),rl=Symbol.for("react.forward_ref"),Bo=Symbol.for("react.suspense"),Vo=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),$t=Symbol.for("react.lazy"),md=Symbol.for("react.offscreen"),du=Symbol.iterator;function wn(t){return t===null||typeof t!="object"?null:(t=du&&t[du]||t["@@iterator"],typeof t=="function"?t:null)}var ee=Object.assign,so;function Tn(t){if(so===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);so=e&&e[1]||""}return`
`+so+t}var io=!1;function oo(t,e){if(!t||io)return"";io=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=n.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{io=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Tn(t):""}function $p(t){switch(t.tag){case 5:return Tn(t.type);case 16:return Tn("Lazy");case 13:return Tn("Suspense");case 19:return Tn("SuspenseList");case 0:case 2:case 15:return t=oo(t.type,!1),t;case 11:return t=oo(t.type.render,!1),t;case 1:return t=oo(t.type,!0),t;default:return""}}function Ho(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mr:return"Fragment";case Dr:return"Portal";case Wo:return"Profiler";case tl:return"StrictMode";case Bo:return"Suspense";case Vo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case pd:return(t.displayName||"Context")+".Consumer";case hd:return(t._context.displayName||"Context")+".Provider";case rl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nl:return e=t.displayName||null,e!==null?e:Ho(t.type)||"Memo";case $t:e=t._payload,t=t._init;try{return Ho(t(e))}catch{}}return null}function Lp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ho(e);case 8:return e===tl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Jt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function gd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Ap(t){var e=gd(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,i=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){n=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Es(t){t._valueTracker||(t._valueTracker=Ap(t))}function vd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=gd(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function ni(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function qo(t,e){var r=e.checked;return ee({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function fu(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Jt(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function yd(t,e){e=e.checked,e!=null&&el(t,"checked",e,!1)}function Ko(t,e){yd(t,e);var r=Jt(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Qo(t,e.type,r):e.hasOwnProperty("defaultValue")&&Qo(t,e.type,Jt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hu(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Qo(t,e,r){(e!=="number"||ni(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var On=Array.isArray;function Yr(t,e,r,n){if(t=t.options,e){e={};for(var s=0;s<r.length;s++)e["$"+r[s]]=!0;for(r=0;r<t.length;r++)s=e.hasOwnProperty("$"+t[r].value),t[r].selected!==s&&(t[r].selected=s),s&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Jt(r),e=null,s=0;s<t.length;s++){if(t[s].value===r){t[s].selected=!0,n&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Yo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(E(91));return ee({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function pu(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(E(92));if(On(r)){if(1<r.length)throw Error(E(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Jt(r)}}function wd(t,e){var r=Jt(e.value),n=Jt(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function mu(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Go(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ns,_d=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,s){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ns=Ns||document.createElement("div"),Ns.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ns.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Qn(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var An={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ip=["Webkit","ms","Moz","O"];Object.keys(An).forEach(function(t){Ip.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),An[e]=An[t]})});function bd(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||An.hasOwnProperty(t)&&An[t]?(""+e).trim():e+"px"}function kd(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=bd(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,s):t[r]=s}}var Dp=ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jo(t,e){if(e){if(Dp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(E(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(E(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(E(61))}if(e.style!=null&&typeof e.style!="object")throw Error(E(62))}}function Xo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function sl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ea=null,Gr=null,Jr=null;function gu(t){if(t=ys(t)){if(typeof ea!="function")throw Error(E(280));var e=t.stateNode;e&&(e=Di(e),ea(t.stateNode,t.type,e))}}function Sd(t){Gr?Jr?Jr.push(t):Jr=[t]:Gr=t}function jd(){if(Gr){var t=Gr,e=Jr;if(Jr=Gr=null,gu(t),e)for(t=0;t<e.length;t++)gu(e[t])}}function Ed(t,e){return t(e)}function Nd(){}var ao=!1;function Cd(t,e,r){if(ao)return t(e,r);ao=!0;try{return Ed(t,e,r)}finally{ao=!1,(Gr!==null||Jr!==null)&&(Nd(),jd())}}function Yn(t,e){var r=t.stateNode;if(r===null)return null;var n=Di(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(E(231,e,typeof r));return r}var ta=!1;if(_t)try{var xn={};Object.defineProperty(xn,"passive",{get:function(){ta=!0}}),window.addEventListener("test",xn,xn),window.removeEventListener("test",xn,xn)}catch{ta=!1}function Mp(t,e,r,n,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(f){this.onError(f)}}var In=!1,si=null,ii=!1,ra=null,Up={onError:function(t){In=!0,si=t}};function Fp(t,e,r,n,s,i,o,a,l){In=!1,si=null,Mp.apply(Up,arguments)}function zp(t,e,r,n,s,i,o,a,l){if(Fp.apply(this,arguments),In){if(In){var c=si;In=!1,si=null}else throw Error(E(198));ii||(ii=!0,ra=c)}}function Sr(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Pd(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function vu(t){if(Sr(t)!==t)throw Error(E(188))}function Wp(t){var e=t.alternate;if(!e){if(e=Sr(t),e===null)throw Error(E(188));return e!==t?null:t}for(var r=t,n=e;;){var s=r.return;if(s===null)break;var i=s.alternate;if(i===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===r)return vu(s),t;if(i===n)return vu(s),e;i=i.sibling}throw Error(E(188))}if(r.return!==n.return)r=s,n=i;else{for(var o=!1,a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o)throw Error(E(189))}}if(r.alternate!==n)throw Error(E(190))}if(r.tag!==3)throw Error(E(188));return r.stateNode.current===r?t:e}function Td(t){return t=Wp(t),t!==null?Od(t):null}function Od(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Od(t);if(e!==null)return e;t=t.sibling}return null}var Rd=Ae.unstable_scheduleCallback,yu=Ae.unstable_cancelCallback,Bp=Ae.unstable_shouldYield,Vp=Ae.unstable_requestPaint,ne=Ae.unstable_now,Hp=Ae.unstable_getCurrentPriorityLevel,il=Ae.unstable_ImmediatePriority,$d=Ae.unstable_UserBlockingPriority,oi=Ae.unstable_NormalPriority,qp=Ae.unstable_LowPriority,Ld=Ae.unstable_IdlePriority,$i=null,ct=null;function Kp(t){if(ct&&typeof ct.onCommitFiberRoot=="function")try{ct.onCommitFiberRoot($i,t,void 0,(t.current.flags&128)===128)}catch{}}var tt=Math.clz32?Math.clz32:Gp,Qp=Math.log,Yp=Math.LN2;function Gp(t){return t>>>=0,t===0?32:31-(Qp(t)/Yp|0)|0}var Cs=64,Ps=4194304;function Rn(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ai(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,s=t.suspendedLanes,i=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~s;a!==0?n=Rn(a):(i&=o,i!==0&&(n=Rn(i)))}else o=r&~s,o!==0?n=Rn(o):i!==0&&(n=Rn(i));if(n===0)return 0;if(e!==0&&e!==n&&!(e&s)&&(s=n&-n,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-tt(e),s=1<<r,n|=t[r],e&=~s;return n}function Jp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xp(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tt(i),a=1<<o,l=s[o];l===-1?(!(a&r)||a&n)&&(s[o]=Jp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function na(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Ad(){var t=Cs;return Cs<<=1,!(Cs&4194240)&&(Cs=64),t}function lo(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function gs(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tt(e),t[e]=r}function Zp(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var s=31-tt(r),i=1<<s;e[s]=0,n[s]=-1,t[s]=-1,r&=~i}}function ol(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-tt(r),s=1<<n;s&e|t[n]&e&&(t[n]|=e),r&=~s}}var V=0;function Id(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Dd,al,Md,Ud,Fd,sa=!1,Ts=[],Wt=null,Bt=null,Vt=null,Gn=new Map,Jn=new Map,At=[],em="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wu(t,e){switch(t){case"focusin":case"focusout":Wt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Vt=null;break;case"pointerover":case"pointerout":Gn.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jn.delete(e.pointerId)}}function _n(t,e,r,n,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:i,targetContainers:[s]},e!==null&&(e=ys(e),e!==null&&al(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function tm(t,e,r,n,s){switch(e){case"focusin":return Wt=_n(Wt,t,e,r,n,s),!0;case"dragenter":return Bt=_n(Bt,t,e,r,n,s),!0;case"mouseover":return Vt=_n(Vt,t,e,r,n,s),!0;case"pointerover":var i=s.pointerId;return Gn.set(i,_n(Gn.get(i)||null,t,e,r,n,s)),!0;case"gotpointercapture":return i=s.pointerId,Jn.set(i,_n(Jn.get(i)||null,t,e,r,n,s)),!0}return!1}function zd(t){var e=fr(t.target);if(e!==null){var r=Sr(e);if(r!==null){if(e=r.tag,e===13){if(e=Pd(r),e!==null){t.blockedOn=e,Fd(t.priority,function(){Md(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ks(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=ia(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Zo=n,r.target.dispatchEvent(n),Zo=null}else return e=ys(r),e!==null&&al(e),t.blockedOn=r,!1;e.shift()}return!0}function xu(t,e,r){Ks(t)&&r.delete(e)}function rm(){sa=!1,Wt!==null&&Ks(Wt)&&(Wt=null),Bt!==null&&Ks(Bt)&&(Bt=null),Vt!==null&&Ks(Vt)&&(Vt=null),Gn.forEach(xu),Jn.forEach(xu)}function bn(t,e){t.blockedOn===e&&(t.blockedOn=null,sa||(sa=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,rm)))}function Xn(t){function e(s){return bn(s,t)}if(0<Ts.length){bn(Ts[0],t);for(var r=1;r<Ts.length;r++){var n=Ts[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Wt!==null&&bn(Wt,t),Bt!==null&&bn(Bt,t),Vt!==null&&bn(Vt,t),Gn.forEach(e),Jn.forEach(e),r=0;r<At.length;r++)n=At[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<At.length&&(r=At[0],r.blockedOn===null);)zd(r),r.blockedOn===null&&At.shift()}var Xr=Et.ReactCurrentBatchConfig,li=!0;function nm(t,e,r,n){var s=V,i=Xr.transition;Xr.transition=null;try{V=1,ll(t,e,r,n)}finally{V=s,Xr.transition=i}}function sm(t,e,r,n){var s=V,i=Xr.transition;Xr.transition=null;try{V=4,ll(t,e,r,n)}finally{V=s,Xr.transition=i}}function ll(t,e,r,n){if(li){var s=ia(t,e,r,n);if(s===null)wo(t,e,n,ui,r),wu(t,n);else if(tm(s,t,e,r,n))n.stopPropagation();else if(wu(t,n),e&4&&-1<em.indexOf(t)){for(;s!==null;){var i=ys(s);if(i!==null&&Dd(i),i=ia(t,e,r,n),i===null&&wo(t,e,n,ui,r),i===s)break;s=i}s!==null&&n.stopPropagation()}else wo(t,e,n,null,r)}}var ui=null;function ia(t,e,r,n){if(ui=null,t=sl(n),t=fr(t),t!==null)if(e=Sr(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Pd(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ui=t,null}function Wd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hp()){case il:return 1;case $d:return 4;case oi:case qp:return 16;case Ld:return 536870912;default:return 16}default:return 16}}var Ut=null,ul=null,Qs=null;function Bd(){if(Qs)return Qs;var t,e=ul,r=e.length,n,s="value"in Ut?Ut.value:Ut.textContent,i=s.length;for(t=0;t<r&&e[t]===s[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===s[i-n];n++);return Qs=s.slice(t,1<n?1-n:void 0)}function Ys(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Os(){return!0}function _u(){return!1}function De(t){function e(r,n,s,i,o){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Os:_u,this.isPropagationStopped=_u,this}return ee(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Os)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Os)},persist:function(){},isPersistent:Os}),e}var fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cl=De(fn),vs=ee({},fn,{view:0,detail:0}),im=De(vs),uo,co,kn,Li=ee({},vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==kn&&(kn&&t.type==="mousemove"?(uo=t.screenX-kn.screenX,co=t.screenY-kn.screenY):co=uo=0,kn=t),uo)},movementY:function(t){return"movementY"in t?t.movementY:co}}),bu=De(Li),om=ee({},Li,{dataTransfer:0}),am=De(om),lm=ee({},vs,{relatedTarget:0}),fo=De(lm),um=ee({},fn,{animationName:0,elapsedTime:0,pseudoElement:0}),cm=De(um),dm=ee({},fn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),fm=De(dm),hm=ee({},fn,{data:0}),ku=De(hm),pm={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function vm(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=gm[t])?!!e[t]:!1}function dl(){return vm}var ym=ee({},vs,{key:function(t){if(t.key){var e=pm[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ys(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?mm[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dl,charCode:function(t){return t.type==="keypress"?Ys(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ys(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),wm=De(ym),xm=ee({},Li,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=De(xm),_m=ee({},vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dl}),bm=De(_m),km=ee({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sm=De(km),jm=ee({},Li,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Em=De(jm),Nm=[9,13,27,32],fl=_t&&"CompositionEvent"in window,Dn=null;_t&&"documentMode"in document&&(Dn=document.documentMode);var Cm=_t&&"TextEvent"in window&&!Dn,Vd=_t&&(!fl||Dn&&8<Dn&&11>=Dn),ju=" ",Eu=!1;function Hd(t,e){switch(t){case"keyup":return Nm.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ur=!1;function Pm(t,e){switch(t){case"compositionend":return qd(e);case"keypress":return e.which!==32?null:(Eu=!0,ju);case"textInput":return t=e.data,t===ju&&Eu?null:t;default:return null}}function Tm(t,e){if(Ur)return t==="compositionend"||!fl&&Hd(t,e)?(t=Bd(),Qs=ul=Ut=null,Ur=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Vd&&e.locale!=="ko"?null:e.data;default:return null}}var Om={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Nu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Om[t.type]:e==="textarea"}function Kd(t,e,r,n){Sd(n),e=ci(e,"onChange"),0<e.length&&(r=new cl("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Mn=null,Zn=null;function Rm(t){sf(t,0)}function Ai(t){var e=Wr(t);if(vd(e))return t}function $m(t,e){if(t==="change")return e}var Qd=!1;if(_t){var ho;if(_t){var po="oninput"in document;if(!po){var Cu=document.createElement("div");Cu.setAttribute("oninput","return;"),po=typeof Cu.oninput=="function"}ho=po}else ho=!1;Qd=ho&&(!document.documentMode||9<document.documentMode)}function Pu(){Mn&&(Mn.detachEvent("onpropertychange",Yd),Zn=Mn=null)}function Yd(t){if(t.propertyName==="value"&&Ai(Zn)){var e=[];Kd(e,Zn,t,sl(t)),Cd(Rm,e)}}function Lm(t,e,r){t==="focusin"?(Pu(),Mn=e,Zn=r,Mn.attachEvent("onpropertychange",Yd)):t==="focusout"&&Pu()}function Am(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ai(Zn)}function Im(t,e){if(t==="click")return Ai(e)}function Dm(t,e){if(t==="input"||t==="change")return Ai(e)}function Mm(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nt=typeof Object.is=="function"?Object.is:Mm;function es(t,e){if(nt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!zo.call(e,s)||!nt(t[s],e[s]))return!1}return!0}function Tu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ou(t,e){var r=Tu(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Tu(r)}}function Gd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Gd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Jd(){for(var t=window,e=ni();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=ni(t.document)}return e}function hl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Um(t){var e=Jd(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Gd(r.ownerDocument.documentElement,r)){if(n!==null&&hl(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=r.textContent.length,i=Math.min(n.start,s);n=n.end===void 0?i:Math.min(n.end,s),!t.extend&&i>n&&(s=n,n=i,i=s),s=Ou(r,i);var o=Ou(r,n);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Fm=_t&&"documentMode"in document&&11>=document.documentMode,Fr=null,oa=null,Un=null,aa=!1;function Ru(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;aa||Fr==null||Fr!==ni(n)||(n=Fr,"selectionStart"in n&&hl(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Un&&es(Un,n)||(Un=n,n=ci(oa,"onSelect"),0<n.length&&(e=new cl("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Fr)))}function Rs(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var zr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},mo={},Xd={};_t&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete zr.animationend.animation,delete zr.animationiteration.animation,delete zr.animationstart.animation),"TransitionEvent"in window||delete zr.transitionend.transition);function Ii(t){if(mo[t])return mo[t];if(!zr[t])return t;var e=zr[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Xd)return mo[t]=e[r];return t}var Zd=Ii("animationend"),ef=Ii("animationiteration"),tf=Ii("animationstart"),rf=Ii("transitionend"),nf=new Map,$u="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zt(t,e){nf.set(t,e),kr(e,[t])}for(var go=0;go<$u.length;go++){var vo=$u[go],zm=vo.toLowerCase(),Wm=vo[0].toUpperCase()+vo.slice(1);Zt(zm,"on"+Wm)}Zt(Zd,"onAnimationEnd");Zt(ef,"onAnimationIteration");Zt(tf,"onAnimationStart");Zt("dblclick","onDoubleClick");Zt("focusin","onFocus");Zt("focusout","onBlur");Zt(rf,"onTransitionEnd");tn("onMouseEnter",["mouseout","mouseover"]);tn("onMouseLeave",["mouseout","mouseover"]);tn("onPointerEnter",["pointerout","pointerover"]);tn("onPointerLeave",["pointerout","pointerover"]);kr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kr("onBeforeInput",["compositionend","keypress","textInput","paste"]);kr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bm=new Set("cancel close invalid load scroll toggle".split(" ").concat($n));function Lu(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,zp(n,e,void 0,t),t.currentTarget=null}function sf(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],s=n.event;n=n.listeners;e:{var i=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Lu(s,a,c),i=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Lu(s,a,c),i=l}}}if(ii)throw t=ra,ii=!1,ra=null,t}function Q(t,e){var r=e[fa];r===void 0&&(r=e[fa]=new Set);var n=t+"__bubble";r.has(n)||(of(e,t,2,!1),r.add(n))}function yo(t,e,r){var n=0;e&&(n|=4),of(r,t,n,e)}var $s="_reactListening"+Math.random().toString(36).slice(2);function ts(t){if(!t[$s]){t[$s]=!0,fd.forEach(function(r){r!=="selectionchange"&&(Bm.has(r)||yo(r,!1,t),yo(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$s]||(e[$s]=!0,yo("selectionchange",!1,e))}}function of(t,e,r,n){switch(Wd(e)){case 1:var s=nm;break;case 4:s=sm;break;default:s=ll}r=s.bind(null,e,r,t),s=void 0,!ta||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),n?s!==void 0?t.addEventListener(e,r,{capture:!0,passive:s}):t.addEventListener(e,r,!0):s!==void 0?t.addEventListener(e,r,{passive:s}):t.addEventListener(e,r,!1)}function wo(t,e,r,n,s){var i=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=fr(a),o===null)return;if(l=o.tag,l===5||l===6){n=i=o;continue e}a=a.parentNode}}n=n.return}Cd(function(){var c=i,f=sl(r),d=[];e:{var m=nf.get(t);if(m!==void 0){var v=cl,y=t;switch(t){case"keypress":if(Ys(r)===0)break e;case"keydown":case"keyup":v=wm;break;case"focusin":y="focus",v=fo;break;case"focusout":y="blur",v=fo;break;case"beforeblur":case"afterblur":v=fo;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=bu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=am;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=bm;break;case Zd:case ef:case tf:v=cm;break;case rf:v=Sm;break;case"scroll":v=im;break;case"wheel":v=Em;break;case"copy":case"cut":case"paste":v=fm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Su}var x=(e&4)!==0,w=!x&&t==="scroll",g=x?m!==null?m+"Capture":null:m;x=[];for(var h=c,p;h!==null;){p=h;var _=p.stateNode;if(p.tag===5&&_!==null&&(p=_,g!==null&&(_=Yn(h,g),_!=null&&x.push(rs(h,_,p)))),w)break;h=h.return}0<x.length&&(m=new v(m,y,null,r,f),d.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==Zo&&(y=r.relatedTarget||r.fromElement)&&(fr(y)||y[bt]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(y=r.relatedTarget||r.toElement,v=c,y=y?fr(y):null,y!==null&&(w=Sr(y),y!==w||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(x=bu,_="onMouseLeave",g="onMouseEnter",h="mouse",(t==="pointerout"||t==="pointerover")&&(x=Su,_="onPointerLeave",g="onPointerEnter",h="pointer"),w=v==null?m:Wr(v),p=y==null?m:Wr(y),m=new x(_,h+"leave",v,r,f),m.target=w,m.relatedTarget=p,_=null,fr(f)===c&&(x=new x(g,h+"enter",y,r,f),x.target=p,x.relatedTarget=w,_=x),w=_,v&&y)t:{for(x=v,g=y,h=0,p=x;p;p=Nr(p))h++;for(p=0,_=g;_;_=Nr(_))p++;for(;0<h-p;)x=Nr(x),h--;for(;0<p-h;)g=Nr(g),p--;for(;h--;){if(x===g||g!==null&&x===g.alternate)break t;x=Nr(x),g=Nr(g)}x=null}else x=null;v!==null&&Au(d,m,v,x,!1),y!==null&&w!==null&&Au(d,w,y,x,!0)}}e:{if(m=c?Wr(c):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var j=$m;else if(Nu(m))if(Qd)j=Dm;else{j=Am;var N=Lm}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=Im);if(j&&(j=j(t,c))){Kd(d,j,r,f);break e}N&&N(t,m,c),t==="focusout"&&(N=m._wrapperState)&&N.controlled&&m.type==="number"&&Qo(m,"number",m.value)}switch(N=c?Wr(c):window,t){case"focusin":(Nu(N)||N.contentEditable==="true")&&(Fr=N,oa=c,Un=null);break;case"focusout":Un=oa=Fr=null;break;case"mousedown":aa=!0;break;case"contextmenu":case"mouseup":case"dragend":aa=!1,Ru(d,r,f);break;case"selectionchange":if(Fm)break;case"keydown":case"keyup":Ru(d,r,f)}var C;if(fl)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Ur?Hd(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Vd&&r.locale!=="ko"&&(Ur||R!=="onCompositionStart"?R==="onCompositionEnd"&&Ur&&(C=Bd()):(Ut=f,ul="value"in Ut?Ut.value:Ut.textContent,Ur=!0)),N=ci(c,R),0<N.length&&(R=new ku(R,t,null,r,f),d.push({event:R,listeners:N}),C?R.data=C:(C=qd(r),C!==null&&(R.data=C)))),(C=Cm?Pm(t,r):Tm(t,r))&&(c=ci(c,"onBeforeInput"),0<c.length&&(f=new ku("onBeforeInput","beforeinput",null,r,f),d.push({event:f,listeners:c}),f.data=C))}sf(d,e)})}function rs(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ci(t,e){for(var r=e+"Capture",n=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Yn(t,r),i!=null&&n.unshift(rs(t,i,s)),i=Yn(t,e),i!=null&&n.push(rs(t,i,s))),t=t.return}return n}function Nr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Au(t,e,r,n,s){for(var i=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,c=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&c!==null&&(a=c,s?(l=Yn(r,i),l!=null&&o.unshift(rs(r,l,a))):s||(l=Yn(r,i),l!=null&&o.push(rs(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var Vm=/\r\n?/g,Hm=/\u0000|\uFFFD/g;function Iu(t){return(typeof t=="string"?t:""+t).replace(Vm,`
`).replace(Hm,"")}function Ls(t,e,r){if(e=Iu(e),Iu(t)!==e&&r)throw Error(E(425))}function di(){}var la=null,ua=null;function ca(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var da=typeof setTimeout=="function"?setTimeout:void 0,qm=typeof clearTimeout=="function"?clearTimeout:void 0,Du=typeof Promise=="function"?Promise:void 0,Km=typeof queueMicrotask=="function"?queueMicrotask:typeof Du<"u"?function(t){return Du.resolve(null).then(t).catch(Qm)}:da;function Qm(t){setTimeout(function(){throw t})}function xo(t,e){var r=e,n=0;do{var s=r.nextSibling;if(t.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){t.removeChild(s),Xn(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);Xn(e)}function Ht(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var hn=Math.random().toString(36).slice(2),ut="__reactFiber$"+hn,ns="__reactProps$"+hn,bt="__reactContainer$"+hn,fa="__reactEvents$"+hn,Ym="__reactListeners$"+hn,Gm="__reactHandles$"+hn;function fr(t){var e=t[ut];if(e)return e;for(var r=t.parentNode;r;){if(e=r[bt]||r[ut]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Mu(t);t!==null;){if(r=t[ut])return r;t=Mu(t)}return e}t=r,r=t.parentNode}return null}function ys(t){return t=t[ut]||t[bt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Wr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(E(33))}function Di(t){return t[ns]||null}var ha=[],Br=-1;function er(t){return{current:t}}function Y(t){0>Br||(t.current=ha[Br],ha[Br]=null,Br--)}function q(t,e){Br++,ha[Br]=t.current,t.current=e}var Xt={},we=er(Xt),Pe=er(!1),vr=Xt;function rn(t,e){var r=t.type.contextTypes;if(!r)return Xt;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in r)s[i]=e[i];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Te(t){return t=t.childContextTypes,t!=null}function fi(){Y(Pe),Y(we)}function Uu(t,e,r){if(we.current!==Xt)throw Error(E(168));q(we,e),q(Pe,r)}function af(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in e))throw Error(E(108,Lp(t)||"Unknown",s));return ee({},r,n)}function hi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xt,vr=we.current,q(we,t),q(Pe,Pe.current),!0}function Fu(t,e,r){var n=t.stateNode;if(!n)throw Error(E(169));r?(t=af(t,e,vr),n.__reactInternalMemoizedMergedChildContext=t,Y(Pe),Y(we),q(we,t)):Y(Pe),q(Pe,r)}var vt=null,Mi=!1,_o=!1;function lf(t){vt===null?vt=[t]:vt.push(t)}function Jm(t){Mi=!0,lf(t)}function tr(){if(!_o&&vt!==null){_o=!0;var t=0,e=V;try{var r=vt;for(V=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}vt=null,Mi=!1}catch(s){throw vt!==null&&(vt=vt.slice(t+1)),Rd(il,tr),s}finally{V=e,_o=!1}}return null}var Vr=[],Hr=0,pi=null,mi=0,Me=[],Ue=0,yr=null,yt=1,wt="";function ar(t,e){Vr[Hr++]=mi,Vr[Hr++]=pi,pi=t,mi=e}function uf(t,e,r){Me[Ue++]=yt,Me[Ue++]=wt,Me[Ue++]=yr,yr=t;var n=yt;t=wt;var s=32-tt(n)-1;n&=~(1<<s),r+=1;var i=32-tt(e)+s;if(30<i){var o=s-s%5;i=(n&(1<<o)-1).toString(32),n>>=o,s-=o,yt=1<<32-tt(e)+s|r<<s|n,wt=i+t}else yt=1<<i|r<<s|n,wt=t}function pl(t){t.return!==null&&(ar(t,1),uf(t,1,0))}function ml(t){for(;t===pi;)pi=Vr[--Hr],Vr[Hr]=null,mi=Vr[--Hr],Vr[Hr]=null;for(;t===yr;)yr=Me[--Ue],Me[Ue]=null,wt=Me[--Ue],Me[Ue]=null,yt=Me[--Ue],Me[Ue]=null}var Le=null,$e=null,J=!1,et=null;function cf(t,e){var r=Fe(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function zu(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Le=t,$e=Ht(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Le=t,$e=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yr!==null?{id:yt,overflow:wt}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fe(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Le=t,$e=null,!0):!1;default:return!1}}function pa(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ma(t){if(J){var e=$e;if(e){var r=e;if(!zu(t,e)){if(pa(t))throw Error(E(418));e=Ht(r.nextSibling);var n=Le;e&&zu(t,e)?cf(n,r):(t.flags=t.flags&-4097|2,J=!1,Le=t)}}else{if(pa(t))throw Error(E(418));t.flags=t.flags&-4097|2,J=!1,Le=t}}}function Wu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Le=t}function As(t){if(t!==Le)return!1;if(!J)return Wu(t),J=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ca(t.type,t.memoizedProps)),e&&(e=$e)){if(pa(t))throw df(),Error(E(418));for(;e;)cf(t,e),e=Ht(e.nextSibling)}if(Wu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(E(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$e=Ht(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$e=null}}else $e=Le?Ht(t.stateNode.nextSibling):null;return!0}function df(){for(var t=$e;t;)t=Ht(t.nextSibling)}function nn(){$e=Le=null,J=!1}function gl(t){et===null?et=[t]:et.push(t)}var Xm=Et.ReactCurrentBatchConfig;function Sn(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(E(309));var n=r.stateNode}if(!n)throw Error(E(147,t));var s=n,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(E(284));if(!r._owner)throw Error(E(290,t))}return t}function Is(t,e){throw t=Object.prototype.toString.call(e),Error(E(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bu(t){var e=t._init;return e(t._payload)}function ff(t){function e(g,h){if(t){var p=g.deletions;p===null?(g.deletions=[h],g.flags|=16):p.push(h)}}function r(g,h){if(!t)return null;for(;h!==null;)e(g,h),h=h.sibling;return null}function n(g,h){for(g=new Map;h!==null;)h.key!==null?g.set(h.key,h):g.set(h.index,h),h=h.sibling;return g}function s(g,h){return g=Yt(g,h),g.index=0,g.sibling=null,g}function i(g,h,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<h?(g.flags|=2,h):p):(g.flags|=2,h)):(g.flags|=1048576,h)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,h,p,_){return h===null||h.tag!==6?(h=Co(p,g.mode,_),h.return=g,h):(h=s(h,p),h.return=g,h)}function l(g,h,p,_){var j=p.type;return j===Mr?f(g,h,p.props.children,_,p.key):h!==null&&(h.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$t&&Bu(j)===h.type)?(_=s(h,p.props),_.ref=Sn(g,h,p),_.return=g,_):(_=ri(p.type,p.key,p.props,null,g.mode,_),_.ref=Sn(g,h,p),_.return=g,_)}function c(g,h,p,_){return h===null||h.tag!==4||h.stateNode.containerInfo!==p.containerInfo||h.stateNode.implementation!==p.implementation?(h=Po(p,g.mode,_),h.return=g,h):(h=s(h,p.children||[]),h.return=g,h)}function f(g,h,p,_,j){return h===null||h.tag!==7?(h=gr(p,g.mode,_,j),h.return=g,h):(h=s(h,p),h.return=g,h)}function d(g,h,p){if(typeof h=="string"&&h!==""||typeof h=="number")return h=Co(""+h,g.mode,p),h.return=g,h;if(typeof h=="object"&&h!==null){switch(h.$$typeof){case js:return p=ri(h.type,h.key,h.props,null,g.mode,p),p.ref=Sn(g,null,h),p.return=g,p;case Dr:return h=Po(h,g.mode,p),h.return=g,h;case $t:var _=h._init;return d(g,_(h._payload),p)}if(On(h)||wn(h))return h=gr(h,g.mode,p,null),h.return=g,h;Is(g,h)}return null}function m(g,h,p,_){var j=h!==null?h.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return j!==null?null:a(g,h,""+p,_);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case js:return p.key===j?l(g,h,p,_):null;case Dr:return p.key===j?c(g,h,p,_):null;case $t:return j=p._init,m(g,h,j(p._payload),_)}if(On(p)||wn(p))return j!==null?null:f(g,h,p,_,null);Is(g,p)}return null}function v(g,h,p,_,j){if(typeof _=="string"&&_!==""||typeof _=="number")return g=g.get(p)||null,a(h,g,""+_,j);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case js:return g=g.get(_.key===null?p:_.key)||null,l(h,g,_,j);case Dr:return g=g.get(_.key===null?p:_.key)||null,c(h,g,_,j);case $t:var N=_._init;return v(g,h,p,N(_._payload),j)}if(On(_)||wn(_))return g=g.get(p)||null,f(h,g,_,j,null);Is(h,_)}return null}function y(g,h,p,_){for(var j=null,N=null,C=h,R=h=0,U=null;C!==null&&R<p.length;R++){C.index>R?(U=C,C=null):U=C.sibling;var L=m(g,C,p[R],_);if(L===null){C===null&&(C=U);break}t&&C&&L.alternate===null&&e(g,C),h=i(L,h,R),N===null?j=L:N.sibling=L,N=L,C=U}if(R===p.length)return r(g,C),J&&ar(g,R),j;if(C===null){for(;R<p.length;R++)C=d(g,p[R],_),C!==null&&(h=i(C,h,R),N===null?j=C:N.sibling=C,N=C);return J&&ar(g,R),j}for(C=n(g,C);R<p.length;R++)U=v(C,g,R,p[R],_),U!==null&&(t&&U.alternate!==null&&C.delete(U.key===null?R:U.key),h=i(U,h,R),N===null?j=U:N.sibling=U,N=U);return t&&C.forEach(function(te){return e(g,te)}),J&&ar(g,R),j}function x(g,h,p,_){var j=wn(p);if(typeof j!="function")throw Error(E(150));if(p=j.call(p),p==null)throw Error(E(151));for(var N=j=null,C=h,R=h=0,U=null,L=p.next();C!==null&&!L.done;R++,L=p.next()){C.index>R?(U=C,C=null):U=C.sibling;var te=m(g,C,L.value,_);if(te===null){C===null&&(C=U);break}t&&C&&te.alternate===null&&e(g,C),h=i(te,h,R),N===null?j=te:N.sibling=te,N=te,C=U}if(L.done)return r(g,C),J&&ar(g,R),j;if(C===null){for(;!L.done;R++,L=p.next())L=d(g,L.value,_),L!==null&&(h=i(L,h,R),N===null?j=L:N.sibling=L,N=L);return J&&ar(g,R),j}for(C=n(g,C);!L.done;R++,L=p.next())L=v(C,g,R,L.value,_),L!==null&&(t&&L.alternate!==null&&C.delete(L.key===null?R:L.key),h=i(L,h,R),N===null?j=L:N.sibling=L,N=L);return t&&C.forEach(function(P){return e(g,P)}),J&&ar(g,R),j}function w(g,h,p,_){if(typeof p=="object"&&p!==null&&p.type===Mr&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case js:e:{for(var j=p.key,N=h;N!==null;){if(N.key===j){if(j=p.type,j===Mr){if(N.tag===7){r(g,N.sibling),h=s(N,p.props.children),h.return=g,g=h;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===$t&&Bu(j)===N.type){r(g,N.sibling),h=s(N,p.props),h.ref=Sn(g,N,p),h.return=g,g=h;break e}r(g,N);break}else e(g,N);N=N.sibling}p.type===Mr?(h=gr(p.props.children,g.mode,_,p.key),h.return=g,g=h):(_=ri(p.type,p.key,p.props,null,g.mode,_),_.ref=Sn(g,h,p),_.return=g,g=_)}return o(g);case Dr:e:{for(N=p.key;h!==null;){if(h.key===N)if(h.tag===4&&h.stateNode.containerInfo===p.containerInfo&&h.stateNode.implementation===p.implementation){r(g,h.sibling),h=s(h,p.children||[]),h.return=g,g=h;break e}else{r(g,h);break}else e(g,h);h=h.sibling}h=Po(p,g.mode,_),h.return=g,g=h}return o(g);case $t:return N=p._init,w(g,h,N(p._payload),_)}if(On(p))return y(g,h,p,_);if(wn(p))return x(g,h,p,_);Is(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,h!==null&&h.tag===6?(r(g,h.sibling),h=s(h,p),h.return=g,g=h):(r(g,h),h=Co(p,g.mode,_),h.return=g,g=h),o(g)):r(g,h)}return w}var sn=ff(!0),hf=ff(!1),gi=er(null),vi=null,qr=null,vl=null;function yl(){vl=qr=vi=null}function wl(t){var e=gi.current;Y(gi),t._currentValue=e}function ga(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Zr(t,e){vi=t,vl=qr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ce=!0),t.firstContext=null)}function Be(t){var e=t._currentValue;if(vl!==t)if(t={context:t,memoizedValue:e,next:null},qr===null){if(vi===null)throw Error(E(308));qr=t,vi.dependencies={lanes:0,firstContext:t}}else qr=qr.next=t;return e}var hr=null;function xl(t){hr===null?hr=[t]:hr.push(t)}function pf(t,e,r,n){var s=e.interleaved;return s===null?(r.next=r,xl(e)):(r.next=s.next,s.next=r),e.interleaved=r,kt(t,n)}function kt(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Lt=!1;function _l(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function mf(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function xt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qt(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,F&2){var s=n.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),n.pending=e,kt(t,r)}return s=n.interleaved,s===null?(e.next=e,xl(n)):(e.next=s.next,s.next=e),n.interleaved=e,kt(t,r)}function Gs(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ol(t,r)}}function Vu(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,i=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};i===null?s=i=o:i=i.next=o,r=r.next}while(r!==null);i===null?s=i=e:i=i.next=e}else s=i=e;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yi(t,e,r,n){var s=t.updateQueue;Lt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var f=t.alternate;f!==null&&(f=f.updateQueue,a=f.lastBaseUpdate,a!==o&&(a===null?f.firstBaseUpdate=c:a.next=c,f.lastBaseUpdate=l))}if(i!==null){var d=s.baseState;o=0,f=c=l=null,a=i;do{var m=a.lane,v=a.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,x=a;switch(m=e,v=r,x.tag){case 1:if(y=x.payload,typeof y=="function"){d=y.call(v,d,m);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=x.payload,m=typeof y=="function"?y.call(v,d,m):y,m==null)break e;d=ee({},d,m);break e;case 2:Lt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else v={eventTime:v,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},f===null?(c=f=v,l=d):f=f.next=v,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(l=d),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=f,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xr|=o,t.lanes=o,t.memoizedState=d}}function Hu(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(E(191,s));s.call(n)}}}var ws={},dt=er(ws),ss=er(ws),is=er(ws);function pr(t){if(t===ws)throw Error(E(174));return t}function bl(t,e){switch(q(is,e),q(ss,t),q(dt,ws),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Go(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Go(e,t)}Y(dt),q(dt,e)}function on(){Y(dt),Y(ss),Y(is)}function gf(t){pr(is.current);var e=pr(dt.current),r=Go(e,t.type);e!==r&&(q(ss,t),q(dt,r))}function kl(t){ss.current===t&&(Y(dt),Y(ss))}var X=er(0);function wi(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bo=[];function Sl(){for(var t=0;t<bo.length;t++)bo[t]._workInProgressVersionPrimary=null;bo.length=0}var Js=Et.ReactCurrentDispatcher,ko=Et.ReactCurrentBatchConfig,wr=0,Z=null,le=null,de=null,xi=!1,Fn=!1,os=0,Zm=0;function ge(){throw Error(E(321))}function jl(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!nt(t[r],e[r]))return!1;return!0}function El(t,e,r,n,s,i){if(wr=i,Z=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Js.current=t===null||t.memoizedState===null?ng:sg,t=r(n,s),Fn){i=0;do{if(Fn=!1,os=0,25<=i)throw Error(E(301));i+=1,de=le=null,e.updateQueue=null,Js.current=ig,t=r(n,s)}while(Fn)}if(Js.current=_i,e=le!==null&&le.next!==null,wr=0,de=le=Z=null,xi=!1,e)throw Error(E(300));return t}function Nl(){var t=os!==0;return os=0,t}function at(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?Z.memoizedState=de=t:de=de.next=t,de}function Ve(){if(le===null){var t=Z.alternate;t=t!==null?t.memoizedState:null}else t=le.next;var e=de===null?Z.memoizedState:de.next;if(e!==null)de=e,le=t;else{if(t===null)throw Error(E(310));le=t,t={memoizedState:le.memoizedState,baseState:le.baseState,baseQueue:le.baseQueue,queue:le.queue,next:null},de===null?Z.memoizedState=de=t:de=de.next=t}return de}function as(t,e){return typeof e=="function"?e(t):e}function So(t){var e=Ve(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=le,s=n.baseQueue,i=r.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}n.baseQueue=s=i,r.pending=null}if(s!==null){i=s.next,n=n.baseState;var a=o=null,l=null,c=i;do{var f=c.lane;if((wr&f)===f)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var d={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,Z.lanes|=f,xr|=f}c=c.next}while(c!==null&&c!==i);l===null?o=n:l.next=a,nt(n,e.memoizedState)||(Ce=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){s=t;do i=s.lane,Z.lanes|=i,xr|=i,s=s.next;while(s!==t)}else s===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jo(t){var e=Ve(),r=e.queue;if(r===null)throw Error(E(311));r.lastRenderedReducer=t;var n=r.dispatch,s=r.pending,i=e.memoizedState;if(s!==null){r.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);nt(i,e.memoizedState)||(Ce=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),r.lastRenderedState=i}return[i,n]}function vf(){}function yf(t,e){var r=Z,n=Ve(),s=e(),i=!nt(n.memoizedState,s);if(i&&(n.memoizedState=s,Ce=!0),n=n.queue,Cl(_f.bind(null,r,n,t),[t]),n.getSnapshot!==e||i||de!==null&&de.memoizedState.tag&1){if(r.flags|=2048,ls(9,xf.bind(null,r,n,s,e),void 0,null),fe===null)throw Error(E(349));wr&30||wf(r,e,s)}return s}function wf(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function xf(t,e,r,n){e.value=r,e.getSnapshot=n,bf(e)&&kf(t)}function _f(t,e,r){return r(function(){bf(e)&&kf(t)})}function bf(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!nt(t,r)}catch{return!0}}function kf(t){var e=kt(t,1);e!==null&&rt(e,t,1,-1)}function qu(t){var e=at();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:t},e.queue=t,t=t.dispatch=rg.bind(null,Z,t),[e.memoizedState,t]}function ls(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Z.updateQueue,e===null?(e={lastEffect:null,stores:null},Z.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Sf(){return Ve().memoizedState}function Xs(t,e,r,n){var s=at();Z.flags|=t,s.memoizedState=ls(1|e,r,void 0,n===void 0?null:n)}function Ui(t,e,r,n){var s=Ve();n=n===void 0?null:n;var i=void 0;if(le!==null){var o=le.memoizedState;if(i=o.destroy,n!==null&&jl(n,o.deps)){s.memoizedState=ls(e,r,i,n);return}}Z.flags|=t,s.memoizedState=ls(1|e,r,i,n)}function Ku(t,e){return Xs(8390656,8,t,e)}function Cl(t,e){return Ui(2048,8,t,e)}function jf(t,e){return Ui(4,2,t,e)}function Ef(t,e){return Ui(4,4,t,e)}function Nf(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Cf(t,e,r){return r=r!=null?r.concat([t]):null,Ui(4,4,Nf.bind(null,e,t),r)}function Pl(){}function Pf(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&jl(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Tf(t,e){var r=Ve();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&jl(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Of(t,e,r){return wr&21?(nt(r,e)||(r=Ad(),Z.lanes|=r,xr|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ce=!0),t.memoizedState=r)}function eg(t,e){var r=V;V=r!==0&&4>r?r:4,t(!0);var n=ko.transition;ko.transition={};try{t(!1),e()}finally{V=r,ko.transition=n}}function Rf(){return Ve().memoizedState}function tg(t,e,r){var n=Qt(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$f(t))Lf(e,r);else if(r=pf(t,e,r,n),r!==null){var s=be();rt(r,t,n,s),Af(r,e,n)}}function rg(t,e,r){var n=Qt(t),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($f(t))Lf(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,r);if(s.hasEagerState=!0,s.eagerState=a,nt(a,o)){var l=e.interleaved;l===null?(s.next=s,xl(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}r=pf(t,e,s,n),r!==null&&(s=be(),rt(r,t,n,s),Af(r,e,n))}}function $f(t){var e=t.alternate;return t===Z||e!==null&&e===Z}function Lf(t,e){Fn=xi=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function Af(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,ol(t,r)}}var _i={readContext:Be,useCallback:ge,useContext:ge,useEffect:ge,useImperativeHandle:ge,useInsertionEffect:ge,useLayoutEffect:ge,useMemo:ge,useReducer:ge,useRef:ge,useState:ge,useDebugValue:ge,useDeferredValue:ge,useTransition:ge,useMutableSource:ge,useSyncExternalStore:ge,useId:ge,unstable_isNewReconciler:!1},ng={readContext:Be,useCallback:function(t,e){return at().memoizedState=[t,e===void 0?null:e],t},useContext:Be,useEffect:Ku,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Xs(4194308,4,Nf.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Xs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Xs(4,2,t,e)},useMemo:function(t,e){var r=at();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=at();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=tg.bind(null,Z,t),[n.memoizedState,t]},useRef:function(t){var e=at();return t={current:t},e.memoizedState=t},useState:qu,useDebugValue:Pl,useDeferredValue:function(t){return at().memoizedState=t},useTransition:function(){var t=qu(!1),e=t[0];return t=eg.bind(null,t[1]),at().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Z,s=at();if(J){if(r===void 0)throw Error(E(407));r=r()}else{if(r=e(),fe===null)throw Error(E(349));wr&30||wf(n,e,r)}s.memoizedState=r;var i={value:r,getSnapshot:e};return s.queue=i,Ku(_f.bind(null,n,i,t),[t]),n.flags|=2048,ls(9,xf.bind(null,n,i,r,e),void 0,null),r},useId:function(){var t=at(),e=fe.identifierPrefix;if(J){var r=wt,n=yt;r=(n&~(1<<32-tt(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=os++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=Zm++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},sg={readContext:Be,useCallback:Pf,useContext:Be,useEffect:Cl,useImperativeHandle:Cf,useInsertionEffect:jf,useLayoutEffect:Ef,useMemo:Tf,useReducer:So,useRef:Sf,useState:function(){return So(as)},useDebugValue:Pl,useDeferredValue:function(t){var e=Ve();return Of(e,le.memoizedState,t)},useTransition:function(){var t=So(as)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:vf,useSyncExternalStore:yf,useId:Rf,unstable_isNewReconciler:!1},ig={readContext:Be,useCallback:Pf,useContext:Be,useEffect:Cl,useImperativeHandle:Cf,useInsertionEffect:jf,useLayoutEffect:Ef,useMemo:Tf,useReducer:jo,useRef:Sf,useState:function(){return jo(as)},useDebugValue:Pl,useDeferredValue:function(t){var e=Ve();return le===null?e.memoizedState=t:Of(e,le.memoizedState,t)},useTransition:function(){var t=jo(as)[0],e=Ve().memoizedState;return[t,e]},useMutableSource:vf,useSyncExternalStore:yf,useId:Rf,unstable_isNewReconciler:!1};function Je(t,e){if(t&&t.defaultProps){e=ee({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function va(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ee({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Fi={isMounted:function(t){return(t=t._reactInternals)?Sr(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=be(),s=Qt(t),i=xt(n,s);i.payload=e,r!=null&&(i.callback=r),e=qt(t,i,s),e!==null&&(rt(e,t,s,n),Gs(e,t,s))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=be(),s=Qt(t),i=xt(n,s);i.tag=1,i.payload=e,r!=null&&(i.callback=r),e=qt(t,i,s),e!==null&&(rt(e,t,s,n),Gs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=be(),n=Qt(t),s=xt(r,n);s.tag=2,e!=null&&(s.callback=e),e=qt(t,s,n),e!==null&&(rt(e,t,n,r),Gs(e,t,n))}};function Qu(t,e,r,n,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,i,o):e.prototype&&e.prototype.isPureReactComponent?!es(r,n)||!es(s,i):!0}function If(t,e,r){var n=!1,s=Xt,i=e.contextType;return typeof i=="object"&&i!==null?i=Be(i):(s=Te(e)?vr:we.current,n=e.contextTypes,i=(n=n!=null)?rn(t,s):Xt),e=new e(r,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Fi,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Yu(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Fi.enqueueReplaceState(e,e.state,null)}function ya(t,e,r,n){var s=t.stateNode;s.props=r,s.state=t.memoizedState,s.refs={},_l(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Be(i):(i=Te(e)?vr:we.current,s.context=rn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(va(t,e,i,r),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Fi.enqueueReplaceState(s,s.state,null),yi(t,r,s,n),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function an(t,e){try{var r="",n=e;do r+=$p(n),n=n.return;while(n);var s=r}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Eo(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function wa(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var og=typeof WeakMap=="function"?WeakMap:Map;function Df(t,e,r){r=xt(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){ki||(ki=!0,Pa=n),wa(t,e)},r}function Mf(t,e,r){r=xt(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var s=e.value;r.payload=function(){return n(s)},r.callback=function(){wa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(r.callback=function(){wa(t,e),typeof n!="function"&&(Kt===null?Kt=new Set([this]):Kt.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Gu(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new og;var s=new Set;n.set(e,s)}else s=n.get(e),s===void 0&&(s=new Set,n.set(e,s));s.has(r)||(s.add(r),t=xg.bind(null,t,e,r),e.then(t,t))}function Ju(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xu(t,e,r,n,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=xt(-1,1),e.tag=2,qt(r,e,1))),r.lanes|=1),t)}var ag=Et.ReactCurrentOwner,Ce=!1;function _e(t,e,r,n){e.child=t===null?hf(e,null,r,n):sn(e,t.child,r,n)}function Zu(t,e,r,n,s){r=r.render;var i=e.ref;return Zr(e,s),n=El(t,e,r,n,i,s),r=Nl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(J&&r&&pl(e),e.flags|=1,_e(t,e,n,s),e.child)}function ec(t,e,r,n,s){if(t===null){var i=r.type;return typeof i=="function"&&!Dl(i)&&i.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=i,Uf(t,e,i,n,s)):(t=ri(r.type,null,n,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(r=r.compare,r=r!==null?r:es,r(o,n)&&t.ref===e.ref)return St(t,e,s)}return e.flags|=1,t=Yt(i,n),t.ref=e.ref,t.return=e,e.child=t}function Uf(t,e,r,n,s){if(t!==null){var i=t.memoizedProps;if(es(i,n)&&t.ref===e.ref)if(Ce=!1,e.pendingProps=n=i,(t.lanes&s)!==0)t.flags&131072&&(Ce=!0);else return e.lanes=t.lanes,St(t,e,s)}return xa(t,e,r,n,s)}function Ff(t,e,r){var n=e.pendingProps,s=n.children,i=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},q(Qr,Re),Re|=r;else{if(!(r&1073741824))return t=i!==null?i.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,q(Qr,Re),Re|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=i!==null?i.baseLanes:r,q(Qr,Re),Re|=n}else i!==null?(n=i.baseLanes|r,e.memoizedState=null):n=r,q(Qr,Re),Re|=n;return _e(t,e,s,r),e.child}function zf(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function xa(t,e,r,n,s){var i=Te(r)?vr:we.current;return i=rn(e,i),Zr(e,s),r=El(t,e,r,n,i,s),n=Nl(),t!==null&&!Ce?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,St(t,e,s)):(J&&n&&pl(e),e.flags|=1,_e(t,e,r,s),e.child)}function tc(t,e,r,n,s){if(Te(r)){var i=!0;hi(e)}else i=!1;if(Zr(e,s),e.stateNode===null)Zs(t,e),If(e,r,n),ya(e,r,n,s),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=Be(c):(c=Te(r)?vr:we.current,c=rn(e,c));var f=r.getDerivedStateFromProps,d=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==c)&&Yu(e,o,n,c),Lt=!1;var m=e.memoizedState;o.state=m,yi(e,n,o,s),l=e.memoizedState,a!==n||m!==l||Pe.current||Lt?(typeof f=="function"&&(va(e,r,f,n),l=e.memoizedState),(a=Lt||Qu(e,r,a,n,m,l,c))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,mf(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Je(e.type,a),o.props=c,d=e.pendingProps,m=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Be(l):(l=Te(r)?vr:we.current,l=rn(e,l));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||m!==l)&&Yu(e,o,n,l),Lt=!1,m=e.memoizedState,o.state=m,yi(e,n,o,s);var y=e.memoizedState;a!==d||m!==y||Pe.current||Lt?(typeof v=="function"&&(va(e,r,v,n),y=e.memoizedState),(c=Lt||Qu(e,r,c,n,m,y,l)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),o.props=n,o.state=y,o.context=l,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return _a(t,e,r,n,i,s)}function _a(t,e,r,n,s,i){zf(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return s&&Fu(e,r,!1),St(t,e,i);n=e.stateNode,ag.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=sn(e,t.child,null,i),e.child=sn(e,null,a,i)):_e(t,e,a,i),e.memoizedState=n.state,s&&Fu(e,r,!0),e.child}function Wf(t){var e=t.stateNode;e.pendingContext?Uu(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Uu(t,e.context,!1),bl(t,e.containerInfo)}function rc(t,e,r,n,s){return nn(),gl(s),e.flags|=256,_e(t,e,r,n),e.child}var ba={dehydrated:null,treeContext:null,retryLane:0};function ka(t){return{baseLanes:t,cachePool:null,transitions:null}}function Bf(t,e,r){var n=e.pendingProps,s=X.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),q(X,s&1),t===null)return ma(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,i?(n=e.mode,i=e.child,o={mode:"hidden",children:o},!(n&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Bi(o,n,0,null),t=gr(t,n,r,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ka(r),e.memoizedState=ba,t):Tl(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return lg(t,e,o,n,a,s,r);if(i){i=n.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==s?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Yt(s,l),n.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Yt(a,i):(i=gr(i,o,r,null),i.flags|=2),i.return=e,n.return=e,n.sibling=i,e.child=n,n=i,i=e.child,o=t.child.memoizedState,o=o===null?ka(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~r,e.memoizedState=ba,n}return i=t.child,t=i.sibling,n=Yt(i,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Tl(t,e){return e=Bi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ds(t,e,r,n){return n!==null&&gl(n),sn(e,t.child,null,r),t=Tl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function lg(t,e,r,n,s,i,o){if(r)return e.flags&256?(e.flags&=-257,n=Eo(Error(E(422))),Ds(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=n.fallback,s=e.mode,n=Bi({mode:"visible",children:n.children},s,0,null),i=gr(i,s,o,null),i.flags|=2,n.return=e,i.return=e,n.sibling=i,e.child=n,e.mode&1&&sn(e,t.child,null,o),e.child.memoizedState=ka(o),e.memoizedState=ba,i);if(!(e.mode&1))return Ds(t,e,o,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var a=n.dgst;return n=a,i=Error(E(419)),n=Eo(i,n,void 0),Ds(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ce||a){if(n=fe,n!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,kt(t,s),rt(n,t,s,-1))}return Il(),n=Eo(Error(E(421))),Ds(t,e,o,n)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=_g.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,$e=Ht(s.nextSibling),Le=e,J=!0,et=null,t!==null&&(Me[Ue++]=yt,Me[Ue++]=wt,Me[Ue++]=yr,yt=t.id,wt=t.overflow,yr=e),e=Tl(e,n.children),e.flags|=4096,e)}function nc(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ga(t.return,e,r)}function No(t,e,r,n,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=n,i.tail=r,i.tailMode=s)}function Vf(t,e,r){var n=e.pendingProps,s=n.revealOrder,i=n.tail;if(_e(t,e,n.children,r),n=X.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nc(t,r,e);else if(t.tag===19)nc(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(q(X,n),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(r=e.child,s=null;r!==null;)t=r.alternate,t!==null&&wi(t)===null&&(s=r),r=r.sibling;r=s,r===null?(s=e.child,e.child=null):(s=r.sibling,r.sibling=null),No(e,!1,s,r,i);break;case"backwards":for(r=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&wi(t)===null){e.child=s;break}t=s.sibling,s.sibling=r,r=s,s=t}No(e,!0,r,null,i);break;case"together":No(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function St(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xr|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(E(153));if(e.child!==null){for(t=e.child,r=Yt(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Yt(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function ug(t,e,r){switch(e.tag){case 3:Wf(e),nn();break;case 5:gf(e);break;case 1:Te(e.type)&&hi(e);break;case 4:bl(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,s=e.memoizedProps.value;q(gi,n._currentValue),n._currentValue=s;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(q(X,X.current&1),e.flags|=128,null):r&e.child.childLanes?Bf(t,e,r):(q(X,X.current&1),t=St(t,e,r),t!==null?t.sibling:null);q(X,X.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return Vf(t,e,r);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),q(X,X.current),n)break;return null;case 22:case 23:return e.lanes=0,Ff(t,e,r)}return St(t,e,r)}var Hf,Sa,qf,Kf;Hf=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Sa=function(){};qf=function(t,e,r,n){var s=t.memoizedProps;if(s!==n){t=e.stateNode,pr(dt.current);var i=null;switch(r){case"input":s=qo(t,s),n=qo(t,n),i=[];break;case"select":s=ee({},s,{value:void 0}),n=ee({},n,{value:void 0}),i=[];break;case"textarea":s=Yo(t,s),n=Yo(t,n),i=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=di)}Jo(r,n);var o;r=null;for(c in s)if(!n.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Kn.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in n){var l=n[c];if(a=s!=null?s[c]:void 0,n.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(i||(i=[]),i.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Kn.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Q("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}r&&(i=i||[]).push("style",r);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Kf=function(t,e,r,n){r!==n&&(e.flags|=4)};function jn(t,e){if(!J)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function ve(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function cg(t,e,r){var n=e.pendingProps;switch(ml(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ve(e),null;case 1:return Te(e.type)&&fi(),ve(e),null;case 3:return n=e.stateNode,on(),Y(Pe),Y(we),Sl(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(As(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,et!==null&&(Ra(et),et=null))),Sa(t,e),ve(e),null;case 5:kl(e);var s=pr(is.current);if(r=e.type,t!==null&&e.stateNode!=null)qf(t,e,r,n,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(E(166));return ve(e),null}if(t=pr(dt.current),As(e)){n=e.stateNode,r=e.type;var i=e.memoizedProps;switch(n[ut]=e,n[ns]=i,t=(e.mode&1)!==0,r){case"dialog":Q("cancel",n),Q("close",n);break;case"iframe":case"object":case"embed":Q("load",n);break;case"video":case"audio":for(s=0;s<$n.length;s++)Q($n[s],n);break;case"source":Q("error",n);break;case"img":case"image":case"link":Q("error",n),Q("load",n);break;case"details":Q("toggle",n);break;case"input":fu(n,i),Q("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!i.multiple},Q("invalid",n);break;case"textarea":pu(n,i),Q("invalid",n)}Jo(r,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?n.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,a,t),s=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ls(n.textContent,a,t),s=["children",""+a]):Kn.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Q("scroll",n)}switch(r){case"input":Es(n),hu(n,i,!0);break;case"textarea":Es(n),mu(n);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(n.onclick=di)}n=s,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xd(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ut]=e,t[ns]=n,Hf(t,e,!1,!1),e.stateNode=t;e:{switch(o=Xo(r,n),r){case"dialog":Q("cancel",t),Q("close",t),s=n;break;case"iframe":case"object":case"embed":Q("load",t),s=n;break;case"video":case"audio":for(s=0;s<$n.length;s++)Q($n[s],t);s=n;break;case"source":Q("error",t),s=n;break;case"img":case"image":case"link":Q("error",t),Q("load",t),s=n;break;case"details":Q("toggle",t),s=n;break;case"input":fu(t,n),s=qo(t,n),Q("invalid",t);break;case"option":s=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},s=ee({},n,{value:void 0}),Q("invalid",t);break;case"textarea":pu(t,n),s=Yo(t,n),Q("invalid",t);break;default:s=n}Jo(r,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?kd(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&_d(t,l)):i==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Qn(t,l):typeof l=="number"&&Qn(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Kn.hasOwnProperty(i)?l!=null&&i==="onScroll"&&Q("scroll",t):l!=null&&el(t,i,l,o))}switch(r){case"input":Es(t),hu(t,n,!1);break;case"textarea":Es(t),mu(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Jt(n.value));break;case"select":t.multiple=!!n.multiple,i=n.value,i!=null?Yr(t,!!n.multiple,i,!1):n.defaultValue!=null&&Yr(t,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=di)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ve(e),null;case 6:if(t&&e.stateNode!=null)Kf(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(E(166));if(r=pr(is.current),pr(dt.current),As(e)){if(n=e.stateNode,r=e.memoizedProps,n[ut]=e,(i=n.nodeValue!==r)&&(t=Le,t!==null))switch(t.tag){case 3:Ls(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ls(n.nodeValue,r,(t.mode&1)!==0)}i&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ut]=e,e.stateNode=n}return ve(e),null;case 13:if(Y(X),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(J&&$e!==null&&e.mode&1&&!(e.flags&128))df(),nn(),e.flags|=98560,i=!1;else if(i=As(e),n!==null&&n.dehydrated!==null){if(t===null){if(!i)throw Error(E(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(E(317));i[ut]=e}else nn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ve(e),i=!1}else et!==null&&(Ra(et),et=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||X.current&1?ue===0&&(ue=3):Il())),e.updateQueue!==null&&(e.flags|=4),ve(e),null);case 4:return on(),Sa(t,e),t===null&&ts(e.stateNode.containerInfo),ve(e),null;case 10:return wl(e.type._context),ve(e),null;case 17:return Te(e.type)&&fi(),ve(e),null;case 19:if(Y(X),i=e.memoizedState,i===null)return ve(e),null;if(n=(e.flags&128)!==0,o=i.rendering,o===null)if(n)jn(i,!1);else{if(ue!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=wi(t),o!==null){for(e.flags|=128,jn(i,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)i=r,t=n,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return q(X,X.current&1|2),e.child}t=t.sibling}i.tail!==null&&ne()>ln&&(e.flags|=128,n=!0,jn(i,!1),e.lanes=4194304)}else{if(!n)if(t=wi(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),jn(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!J)return ve(e),null}else 2*ne()-i.renderingStartTime>ln&&r!==1073741824&&(e.flags|=128,n=!0,jn(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(r=i.last,r!==null?r.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ne(),e.sibling=null,r=X.current,q(X,n?r&1|2:r&1),e):(ve(e),null);case 22:case 23:return Al(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Re&1073741824&&(ve(e),e.subtreeFlags&6&&(e.flags|=8192)):ve(e),null;case 24:return null;case 25:return null}throw Error(E(156,e.tag))}function dg(t,e){switch(ml(e),e.tag){case 1:return Te(e.type)&&fi(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return on(),Y(Pe),Y(we),Sl(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kl(e),null;case 13:if(Y(X),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(E(340));nn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Y(X),null;case 4:return on(),null;case 10:return wl(e.type._context),null;case 22:case 23:return Al(),null;case 24:return null;default:return null}}var Ms=!1,ye=!1,fg=typeof WeakSet=="function"?WeakSet:Set,T=null;function Kr(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){re(t,e,n)}else r.current=null}function ja(t,e,r){try{r()}catch(n){re(t,e,n)}}var sc=!1;function hg(t,e){if(la=li,t=Jd(),hl(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{r.nodeType,i.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,c=0,f=0,d=t,m=null;t:for(;;){for(var v;d!==r||s!==0&&d.nodeType!==3||(a=o+s),d!==i||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(v=d.firstChild)!==null;)m=d,d=v;for(;;){if(d===t)break t;if(m===r&&++c===s&&(a=o),m===i&&++f===n&&(l=o),(v=d.nextSibling)!==null)break;d=m,m=d.parentNode}d=v}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ua={focusedElem:t,selectionRange:r},li=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var x=y.memoizedProps,w=y.memoizedState,g=e.stateNode,h=g.getSnapshotBeforeUpdate(e.elementType===e.type?x:Je(e.type,x),w);g.__reactInternalSnapshotBeforeUpdate=h}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(E(163))}}catch(_){re(e,e.return,_)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=sc,sc=!1,y}function zn(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ja(e,r,i)}s=s.next}while(s!==n)}}function zi(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Ea(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function Qf(t){var e=t.alternate;e!==null&&(t.alternate=null,Qf(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ut],delete e[ns],delete e[fa],delete e[Ym],delete e[Gm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Yf(t){return t.tag===5||t.tag===3||t.tag===4}function ic(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Yf(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Na(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=di));else if(n!==4&&(t=t.child,t!==null))for(Na(t,e,r),t=t.sibling;t!==null;)Na(t,e,r),t=t.sibling}function Ca(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ca(t,e,r),t=t.sibling;t!==null;)Ca(t,e,r),t=t.sibling}var he=null,Xe=!1;function Pt(t,e,r){for(r=r.child;r!==null;)Gf(t,e,r),r=r.sibling}function Gf(t,e,r){if(ct&&typeof ct.onCommitFiberUnmount=="function")try{ct.onCommitFiberUnmount($i,r)}catch{}switch(r.tag){case 5:ye||Kr(r,e);case 6:var n=he,s=Xe;he=null,Pt(t,e,r),he=n,Xe=s,he!==null&&(Xe?(t=he,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):he.removeChild(r.stateNode));break;case 18:he!==null&&(Xe?(t=he,r=r.stateNode,t.nodeType===8?xo(t.parentNode,r):t.nodeType===1&&xo(t,r),Xn(t)):xo(he,r.stateNode));break;case 4:n=he,s=Xe,he=r.stateNode.containerInfo,Xe=!0,Pt(t,e,r),he=n,Xe=s;break;case 0:case 11:case 14:case 15:if(!ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ja(r,e,o),s=s.next}while(s!==n)}Pt(t,e,r);break;case 1:if(!ye&&(Kr(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){re(r,e,a)}Pt(t,e,r);break;case 21:Pt(t,e,r);break;case 22:r.mode&1?(ye=(n=ye)||r.memoizedState!==null,Pt(t,e,r),ye=n):Pt(t,e,r);break;default:Pt(t,e,r)}}function oc(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new fg),e.forEach(function(n){var s=bg.bind(null,t,n);r.has(n)||(r.add(n),n.then(s,s))})}}function Ye(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:he=a.stateNode,Xe=!1;break e;case 3:he=a.stateNode.containerInfo,Xe=!0;break e;case 4:he=a.stateNode.containerInfo,Xe=!0;break e}a=a.return}if(he===null)throw Error(E(160));Gf(i,o,s),he=null,Xe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){re(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Jf(e,t),e=e.sibling}function Jf(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ye(e,t),ot(t),n&4){try{zn(3,t,t.return),zi(3,t)}catch(x){re(t,t.return,x)}try{zn(5,t,t.return)}catch(x){re(t,t.return,x)}}break;case 1:Ye(e,t),ot(t),n&512&&r!==null&&Kr(r,r.return);break;case 5:if(Ye(e,t),ot(t),n&512&&r!==null&&Kr(r,r.return),t.flags&32){var s=t.stateNode;try{Qn(s,"")}catch(x){re(t,t.return,x)}}if(n&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=r!==null?r.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&yd(s,i),Xo(a,o);var c=Xo(a,i);for(o=0;o<l.length;o+=2){var f=l[o],d=l[o+1];f==="style"?kd(s,d):f==="dangerouslySetInnerHTML"?_d(s,d):f==="children"?Qn(s,d):el(s,f,d,c)}switch(a){case"input":Ko(s,i);break;case"textarea":wd(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Yr(s,!!i.multiple,v,!1):m!==!!i.multiple&&(i.defaultValue!=null?Yr(s,!!i.multiple,i.defaultValue,!0):Yr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ns]=i}catch(x){re(t,t.return,x)}}break;case 6:if(Ye(e,t),ot(t),n&4){if(t.stateNode===null)throw Error(E(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){re(t,t.return,x)}}break;case 3:if(Ye(e,t),ot(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Xn(e.containerInfo)}catch(x){re(t,t.return,x)}break;case 4:Ye(e,t),ot(t);break;case 13:Ye(e,t),ot(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||($l=ne())),n&4&&oc(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(ye=(c=ye)||f,Ye(e,t),ye=c):Ye(e,t),ot(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!f&&t.mode&1)for(T=t,f=t.child;f!==null;){for(d=T=f;T!==null;){switch(m=T,v=m.child,m.tag){case 0:case 11:case 14:case 15:zn(4,m,m.return);break;case 1:Kr(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(x){re(n,r,x)}}break;case 5:Kr(m,m.return);break;case 22:if(m.memoizedState!==null){lc(d);continue}}v!==null?(v.return=m,T=v):lc(d)}f=f.sibling}e:for(f=null,d=t;;){if(d.tag===5){if(f===null){f=d;try{s=d.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=bd("display",o))}catch(x){re(t,t.return,x)}}}else if(d.tag===6){if(f===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(x){re(t,t.return,x)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;f===d&&(f=null),d=d.return}f===d&&(f=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Ye(e,t),ot(t),n&4&&oc(t);break;case 21:break;default:Ye(e,t),ot(t)}}function ot(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(Yf(r)){var n=r;break e}r=r.return}throw Error(E(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Qn(s,""),n.flags&=-33);var i=ic(t);Ca(t,i,s);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ic(t);Na(t,a,o);break;default:throw Error(E(161))}}catch(l){re(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function pg(t,e,r){T=t,Xf(t)}function Xf(t,e,r){for(var n=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&n){var o=s.memoizedState!==null||Ms;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||ye;a=Ms;var c=ye;if(Ms=o,(ye=l)&&!c)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?uc(s):l!==null?(l.return=o,T=l):uc(s);for(;i!==null;)T=i,Xf(i),i=i.sibling;T=s,Ms=a,ye=c}ac(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):ac(t)}}function ac(t){for(;T!==null;){var e=T;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:ye||zi(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!ye)if(r===null)n.componentDidMount();else{var s=e.elementType===e.type?r.memoizedProps:Je(e.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hu(e,i,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Hu(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var d=f.dehydrated;d!==null&&Xn(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(E(163))}ye||e.flags&512&&Ea(e)}catch(m){re(e,e.return,m)}}if(e===t){T=null;break}if(r=e.sibling,r!==null){r.return=e.return,T=r;break}T=e.return}}function lc(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var r=e.sibling;if(r!==null){r.return=e.return,T=r;break}T=e.return}}function uc(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zi(4,e)}catch(l){re(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var s=e.return;try{n.componentDidMount()}catch(l){re(e,s,l)}}var i=e.return;try{Ea(e)}catch(l){re(e,i,l)}break;case 5:var o=e.return;try{Ea(e)}catch(l){re(e,o,l)}}}catch(l){re(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var mg=Math.ceil,bi=Et.ReactCurrentDispatcher,Ol=Et.ReactCurrentOwner,ze=Et.ReactCurrentBatchConfig,F=0,fe=null,ie=null,pe=0,Re=0,Qr=er(0),ue=0,us=null,xr=0,Wi=0,Rl=0,Wn=null,Ee=null,$l=0,ln=1/0,mt=null,ki=!1,Pa=null,Kt=null,Us=!1,Ft=null,Si=0,Bn=0,Ta=null,ei=-1,ti=0;function be(){return F&6?ne():ei!==-1?ei:ei=ne()}function Qt(t){return t.mode&1?F&2&&pe!==0?pe&-pe:Xm.transition!==null?(ti===0&&(ti=Ad()),ti):(t=V,t!==0||(t=window.event,t=t===void 0?16:Wd(t.type)),t):1}function rt(t,e,r,n){if(50<Bn)throw Bn=0,Ta=null,Error(E(185));gs(t,r,n),(!(F&2)||t!==fe)&&(t===fe&&(!(F&2)&&(Wi|=r),ue===4&&It(t,pe)),Oe(t,n),r===1&&F===0&&!(e.mode&1)&&(ln=ne()+500,Mi&&tr()))}function Oe(t,e){var r=t.callbackNode;Xp(t,e);var n=ai(t,t===fe?pe:0);if(n===0)r!==null&&yu(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&yu(r),e===1)t.tag===0?Jm(cc.bind(null,t)):lf(cc.bind(null,t)),Km(function(){!(F&6)&&tr()}),r=null;else{switch(Id(n)){case 1:r=il;break;case 4:r=$d;break;case 16:r=oi;break;case 536870912:r=Ld;break;default:r=oi}r=oh(r,Zf.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function Zf(t,e){if(ei=-1,ti=0,F&6)throw Error(E(327));var r=t.callbackNode;if(en()&&t.callbackNode!==r)return null;var n=ai(t,t===fe?pe:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ji(t,n);else{e=n;var s=F;F|=2;var i=th();(fe!==t||pe!==e)&&(mt=null,ln=ne()+500,mr(t,e));do try{yg();break}catch(a){eh(t,a)}while(!0);yl(),bi.current=i,F=s,ie!==null?e=0:(fe=null,pe=0,e=ue)}if(e!==0){if(e===2&&(s=na(t),s!==0&&(n=s,e=Oa(t,s))),e===1)throw r=us,mr(t,0),It(t,n),Oe(t,ne()),r;if(e===6)It(t,n);else{if(s=t.current.alternate,!(n&30)&&!gg(s)&&(e=ji(t,n),e===2&&(i=na(t),i!==0&&(n=i,e=Oa(t,i))),e===1))throw r=us,mr(t,0),It(t,n),Oe(t,ne()),r;switch(t.finishedWork=s,t.finishedLanes=n,e){case 0:case 1:throw Error(E(345));case 2:lr(t,Ee,mt);break;case 3:if(It(t,n),(n&130023424)===n&&(e=$l+500-ne(),10<e)){if(ai(t,0)!==0)break;if(s=t.suspendedLanes,(s&n)!==n){be(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=da(lr.bind(null,t,Ee,mt),e);break}lr(t,Ee,mt);break;case 4:if(It(t,n),(n&4194240)===n)break;for(e=t.eventTimes,s=-1;0<n;){var o=31-tt(n);i=1<<o,o=e[o],o>s&&(s=o),n&=~i}if(n=s,n=ne()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*mg(n/1960))-n,10<n){t.timeoutHandle=da(lr.bind(null,t,Ee,mt),n);break}lr(t,Ee,mt);break;case 5:lr(t,Ee,mt);break;default:throw Error(E(329))}}}return Oe(t,ne()),t.callbackNode===r?Zf.bind(null,t):null}function Oa(t,e){var r=Wn;return t.current.memoizedState.isDehydrated&&(mr(t,e).flags|=256),t=ji(t,e),t!==2&&(e=Ee,Ee=r,e!==null&&Ra(e)),t}function Ra(t){Ee===null?Ee=t:Ee.push.apply(Ee,t)}function gg(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],i=s.getSnapshot;s=s.value;try{if(!nt(i(),s))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function It(t,e){for(e&=~Rl,e&=~Wi,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-tt(e),n=1<<r;t[r]=-1,e&=~n}}function cc(t){if(F&6)throw Error(E(327));en();var e=ai(t,0);if(!(e&1))return Oe(t,ne()),null;var r=ji(t,e);if(t.tag!==0&&r===2){var n=na(t);n!==0&&(e=n,r=Oa(t,n))}if(r===1)throw r=us,mr(t,0),It(t,e),Oe(t,ne()),r;if(r===6)throw Error(E(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lr(t,Ee,mt),Oe(t,ne()),null}function Ll(t,e){var r=F;F|=1;try{return t(e)}finally{F=r,F===0&&(ln=ne()+500,Mi&&tr())}}function _r(t){Ft!==null&&Ft.tag===0&&!(F&6)&&en();var e=F;F|=1;var r=ze.transition,n=V;try{if(ze.transition=null,V=1,t)return t()}finally{V=n,ze.transition=r,F=e,!(F&6)&&tr()}}function Al(){Re=Qr.current,Y(Qr)}function mr(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,qm(r)),ie!==null)for(r=ie.return;r!==null;){var n=r;switch(ml(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&fi();break;case 3:on(),Y(Pe),Y(we),Sl();break;case 5:kl(n);break;case 4:on();break;case 13:Y(X);break;case 19:Y(X);break;case 10:wl(n.type._context);break;case 22:case 23:Al()}r=r.return}if(fe=t,ie=t=Yt(t.current,null),pe=Re=e,ue=0,us=null,Rl=Wi=xr=0,Ee=Wn=null,hr!==null){for(e=0;e<hr.length;e++)if(r=hr[e],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,i=r.pending;if(i!==null){var o=i.next;i.next=s,n.next=o}r.pending=n}hr=null}return t}function eh(t,e){do{var r=ie;try{if(yl(),Js.current=_i,xi){for(var n=Z.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}xi=!1}if(wr=0,de=le=Z=null,Fn=!1,os=0,Ol.current=null,r===null||r.return===null){ue=1,us=e,ie=null;break}e:{var i=t,o=r.return,a=r,l=e;if(e=pe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,f=a,d=f.tag;if(!(f.mode&1)&&(d===0||d===11||d===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=Ju(o);if(v!==null){v.flags&=-257,Xu(v,o,a,i,e),v.mode&1&&Gu(i,c,e),e=v,l=c;var y=e.updateQueue;if(y===null){var x=new Set;x.add(l),e.updateQueue=x}else y.add(l);break e}else{if(!(e&1)){Gu(i,c,e),Il();break e}l=Error(E(426))}}else if(J&&a.mode&1){var w=Ju(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),Xu(w,o,a,i,e),gl(an(l,a));break e}}i=l=an(l,a),ue!==4&&(ue=2),Wn===null?Wn=[i]:Wn.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Df(i,l,e);Vu(i,g);break e;case 1:a=l;var h=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof h.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(Kt===null||!Kt.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var _=Mf(i,a,e);Vu(i,_);break e}}i=i.return}while(i!==null)}nh(r)}catch(j){e=j,ie===r&&r!==null&&(ie=r=r.return);continue}break}while(!0)}function th(){var t=bi.current;return bi.current=_i,t===null?_i:t}function Il(){(ue===0||ue===3||ue===2)&&(ue=4),fe===null||!(xr&268435455)&&!(Wi&268435455)||It(fe,pe)}function ji(t,e){var r=F;F|=2;var n=th();(fe!==t||pe!==e)&&(mt=null,mr(t,e));do try{vg();break}catch(s){eh(t,s)}while(!0);if(yl(),F=r,bi.current=n,ie!==null)throw Error(E(261));return fe=null,pe=0,ue}function vg(){for(;ie!==null;)rh(ie)}function yg(){for(;ie!==null&&!Bp();)rh(ie)}function rh(t){var e=ih(t.alternate,t,Re);t.memoizedProps=t.pendingProps,e===null?nh(t):ie=e,Ol.current=null}function nh(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=dg(r,e),r!==null){r.flags&=32767,ie=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ue=6,ie=null;return}}else if(r=cg(r,e,Re),r!==null){ie=r;return}if(e=e.sibling,e!==null){ie=e;return}ie=e=t}while(e!==null);ue===0&&(ue=5)}function lr(t,e,r){var n=V,s=ze.transition;try{ze.transition=null,V=1,wg(t,e,r,n)}finally{ze.transition=s,V=n}return null}function wg(t,e,r,n){do en();while(Ft!==null);if(F&6)throw Error(E(327));r=t.finishedWork;var s=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(E(177));t.callbackNode=null,t.callbackPriority=0;var i=r.lanes|r.childLanes;if(Zp(t,i),t===fe&&(ie=fe=null,pe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Us||(Us=!0,oh(oi,function(){return en(),null})),i=(r.flags&15990)!==0,r.subtreeFlags&15990||i){i=ze.transition,ze.transition=null;var o=V;V=1;var a=F;F|=4,Ol.current=null,hg(t,r),Jf(r,t),Um(ua),li=!!la,ua=la=null,t.current=r,pg(r),Vp(),F=a,V=o,ze.transition=i}else t.current=r;if(Us&&(Us=!1,Ft=t,Si=s),i=t.pendingLanes,i===0&&(Kt=null),Kp(r.stateNode),Oe(t,ne()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)s=e[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(ki)throw ki=!1,t=Pa,Pa=null,t;return Si&1&&t.tag!==0&&en(),i=t.pendingLanes,i&1?t===Ta?Bn++:(Bn=0,Ta=t):Bn=0,tr(),null}function en(){if(Ft!==null){var t=Id(Si),e=ze.transition,r=V;try{if(ze.transition=null,V=16>t?16:t,Ft===null)var n=!1;else{if(t=Ft,Ft=null,Si=0,F&6)throw Error(E(331));var s=F;for(F|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(T=c;T!==null;){var f=T;switch(f.tag){case 0:case 11:case 15:zn(8,f,i)}var d=f.child;if(d!==null)d.return=f,T=d;else for(;T!==null;){f=T;var m=f.sibling,v=f.return;if(Qf(f),f===c){T=null;break}if(m!==null){m.return=v,T=m;break}T=v}}}var y=i.alternate;if(y!==null){var x=y.child;if(x!==null){y.child=null;do{var w=x.sibling;x.sibling=null,x=w}while(x!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:zn(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var h=t.current;for(T=h;T!==null;){o=T;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,T=p;else e:for(o=h;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:zi(9,a)}}catch(j){re(a,a.return,j)}if(a===o){T=null;break e}var _=a.sibling;if(_!==null){_.return=a.return,T=_;break e}T=a.return}}if(F=s,tr(),ct&&typeof ct.onPostCommitFiberRoot=="function")try{ct.onPostCommitFiberRoot($i,t)}catch{}n=!0}return n}finally{V=r,ze.transition=e}}return!1}function dc(t,e,r){e=an(r,e),e=Df(t,e,1),t=qt(t,e,1),e=be(),t!==null&&(gs(t,1,e),Oe(t,e))}function re(t,e,r){if(t.tag===3)dc(t,t,r);else for(;e!==null;){if(e.tag===3){dc(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Kt===null||!Kt.has(n))){t=an(r,t),t=Mf(e,t,1),e=qt(e,t,1),t=be(),e!==null&&(gs(e,1,t),Oe(e,t));break}}e=e.return}}function xg(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=be(),t.pingedLanes|=t.suspendedLanes&r,fe===t&&(pe&r)===r&&(ue===4||ue===3&&(pe&130023424)===pe&&500>ne()-$l?mr(t,0):Rl|=r),Oe(t,e)}function sh(t,e){e===0&&(t.mode&1?(e=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):e=1);var r=be();t=kt(t,e),t!==null&&(gs(t,e,r),Oe(t,r))}function _g(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),sh(t,r)}function bg(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,s=t.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(E(314))}n!==null&&n.delete(e),sh(t,r)}var ih;ih=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pe.current)Ce=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ce=!1,ug(t,e,r);Ce=!!(t.flags&131072)}else Ce=!1,J&&e.flags&1048576&&uf(e,mi,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Zs(t,e),t=e.pendingProps;var s=rn(e,we.current);Zr(e,r),s=El(null,e,n,t,s,r);var i=Nl();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Te(n)?(i=!0,hi(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,_l(e),s.updater=Fi,e.stateNode=s,s._reactInternals=e,ya(e,n,t,r),e=_a(null,e,n,!0,i,r)):(e.tag=0,J&&i&&pl(e),_e(null,e,s,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Zs(t,e),t=e.pendingProps,s=n._init,n=s(n._payload),e.type=n,s=e.tag=Sg(n),t=Je(n,t),s){case 0:e=xa(null,e,n,t,r);break e;case 1:e=tc(null,e,n,t,r);break e;case 11:e=Zu(null,e,n,t,r);break e;case 14:e=ec(null,e,n,Je(n.type,t),r);break e}throw Error(E(306,n,""))}return e;case 0:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),xa(t,e,n,s,r);case 1:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),tc(t,e,n,s,r);case 3:e:{if(Wf(e),t===null)throw Error(E(387));n=e.pendingProps,i=e.memoizedState,s=i.element,mf(t,e),yi(e,n,null,r);var o=e.memoizedState;if(n=o.element,i.isDehydrated)if(i={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=an(Error(E(423)),e),e=rc(t,e,n,r,s);break e}else if(n!==s){s=an(Error(E(424)),e),e=rc(t,e,n,r,s);break e}else for($e=Ht(e.stateNode.containerInfo.firstChild),Le=e,J=!0,et=null,r=hf(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(nn(),n===s){e=St(t,e,r);break e}_e(t,e,n,r)}e=e.child}return e;case 5:return gf(e),t===null&&ma(e),n=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,ca(n,s)?o=null:i!==null&&ca(n,i)&&(e.flags|=32),zf(t,e),_e(t,e,o,r),e.child;case 6:return t===null&&ma(e),null;case 13:return Bf(t,e,r);case 4:return bl(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=sn(e,null,n,r):_e(t,e,n,r),e.child;case 11:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),Zu(t,e,n,s,r);case 7:return _e(t,e,e.pendingProps,r),e.child;case 8:return _e(t,e,e.pendingProps.children,r),e.child;case 12:return _e(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,q(gi,n._currentValue),n._currentValue=o,i!==null)if(nt(i.value,o)){if(i.children===s.children&&!Pe.current){e=St(t,e,r);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(i.tag===1){l=xt(-1,r&-r),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?l.next=l:(l.next=f.next,f.next=l),c.pending=l}}i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),ga(i.return,r,e),a.lanes|=r;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(E(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ga(o,r,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}_e(t,e,s.children,r),e=e.child}return e;case 9:return s=e.type,n=e.pendingProps.children,Zr(e,r),s=Be(s),n=n(s),e.flags|=1,_e(t,e,n,r),e.child;case 14:return n=e.type,s=Je(n,e.pendingProps),s=Je(n.type,s),ec(t,e,n,s,r);case 15:return Uf(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,s=e.pendingProps,s=e.elementType===n?s:Je(n,s),Zs(t,e),e.tag=1,Te(n)?(t=!0,hi(e)):t=!1,Zr(e,r),If(e,n,s),ya(e,n,s,r),_a(null,e,n,!0,t,r);case 19:return Vf(t,e,r);case 22:return Ff(t,e,r)}throw Error(E(156,e.tag))};function oh(t,e){return Rd(t,e)}function kg(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fe(t,e,r,n){return new kg(t,e,r,n)}function Dl(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sg(t){if(typeof t=="function")return Dl(t)?1:0;if(t!=null){if(t=t.$$typeof,t===rl)return 11;if(t===nl)return 14}return 2}function Yt(t,e){var r=t.alternate;return r===null?(r=Fe(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ri(t,e,r,n,s,i){var o=2;if(n=t,typeof t=="function")Dl(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mr:return gr(r.children,s,i,e);case tl:o=8,s|=8;break;case Wo:return t=Fe(12,r,e,s|2),t.elementType=Wo,t.lanes=i,t;case Bo:return t=Fe(13,r,e,s),t.elementType=Bo,t.lanes=i,t;case Vo:return t=Fe(19,r,e,s),t.elementType=Vo,t.lanes=i,t;case md:return Bi(r,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case hd:o=10;break e;case pd:o=9;break e;case rl:o=11;break e;case nl:o=14;break e;case $t:o=16,n=null;break e}throw Error(E(130,t==null?t:typeof t,""))}return e=Fe(o,r,e,s),e.elementType=t,e.type=n,e.lanes=i,e}function gr(t,e,r,n){return t=Fe(7,t,n,e),t.lanes=r,t}function Bi(t,e,r,n){return t=Fe(22,t,n,e),t.elementType=md,t.lanes=r,t.stateNode={isHidden:!1},t}function Co(t,e,r){return t=Fe(6,t,null,e),t.lanes=r,t}function Po(t,e,r){return e=Fe(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function jg(t,e,r,n,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=lo(0),this.expirationTimes=lo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=lo(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ml(t,e,r,n,s,i,o,a,l){return t=new jg(t,e,r,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Fe(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_l(i),t}function Eg(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Dr,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ah(t){if(!t)return Xt;t=t._reactInternals;e:{if(Sr(t)!==t||t.tag!==1)throw Error(E(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Te(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(E(171))}if(t.tag===1){var r=t.type;if(Te(r))return af(t,r,e)}return e}function lh(t,e,r,n,s,i,o,a,l){return t=Ml(r,n,!0,t,s,i,o,a,l),t.context=ah(null),r=t.current,n=be(),s=Qt(r),i=xt(n,s),i.callback=e??null,qt(r,i,s),t.current.lanes=s,gs(t,s,n),Oe(t,n),t}function Vi(t,e,r,n){var s=e.current,i=be(),o=Qt(s);return r=ah(r),e.context===null?e.context=r:e.pendingContext=r,e=xt(i,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qt(s,e,o),t!==null&&(rt(t,s,o,i),Gs(t,s,o)),o}function Ei(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ul(t,e){fc(t,e),(t=t.alternate)&&fc(t,e)}function Ng(){return null}var uh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Fl(t){this._internalRoot=t}Hi.prototype.render=Fl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(E(409));Vi(t,e,null,null)};Hi.prototype.unmount=Fl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;_r(function(){Vi(null,t,null,null)}),e[bt]=null}};function Hi(t){this._internalRoot=t}Hi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Ud();t={blockedOn:null,target:t,priority:e};for(var r=0;r<At.length&&e!==0&&e<At[r].priority;r++);At.splice(r,0,t),r===0&&zd(t)}};function zl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function qi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hc(){}function Cg(t,e,r,n,s){if(s){if(typeof n=="function"){var i=n;n=function(){var c=Ei(o);i.call(c)}}var o=lh(e,n,t,0,null,!1,!1,"",hc);return t._reactRootContainer=o,t[bt]=o.current,ts(t.nodeType===8?t.parentNode:t),_r(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof n=="function"){var a=n;n=function(){var c=Ei(l);a.call(c)}}var l=Ml(t,0,!1,null,null,!1,!1,"",hc);return t._reactRootContainer=l,t[bt]=l.current,ts(t.nodeType===8?t.parentNode:t),_r(function(){Vi(e,l,r,n)}),l}function Ki(t,e,r,n,s){var i=r._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ei(o);a.call(l)}}Vi(e,o,t,s)}else o=Cg(r,e,t,s,n);return Ei(o)}Dd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Rn(e.pendingLanes);r!==0&&(ol(e,r|1),Oe(e,ne()),!(F&6)&&(ln=ne()+500,tr()))}break;case 13:_r(function(){var n=kt(t,1);if(n!==null){var s=be();rt(n,t,1,s)}}),Ul(t,1)}};al=function(t){if(t.tag===13){var e=kt(t,134217728);if(e!==null){var r=be();rt(e,t,134217728,r)}Ul(t,134217728)}};Md=function(t){if(t.tag===13){var e=Qt(t),r=kt(t,e);if(r!==null){var n=be();rt(r,t,e,n)}Ul(t,e)}};Ud=function(){return V};Fd=function(t,e){var r=V;try{return V=t,e()}finally{V=r}};ea=function(t,e,r){switch(e){case"input":if(Ko(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var s=Di(n);if(!s)throw Error(E(90));vd(n),Ko(n,s)}}}break;case"textarea":wd(t,r);break;case"select":e=r.value,e!=null&&Yr(t,!!r.multiple,e,!1)}};Ed=Ll;Nd=_r;var Pg={usingClientEntryPoint:!1,Events:[ys,Wr,Di,Sd,jd,Ll]},En={findFiberByHostInstance:fr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Tg={bundleType:En.bundleType,version:En.version,rendererPackageName:En.rendererPackageName,rendererConfig:En.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Et.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Td(t),t===null?null:t.stateNode},findFiberByHostInstance:En.findFiberByHostInstance||Ng,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fs.isDisabled&&Fs.supportsFiber)try{$i=Fs.inject(Tg),ct=Fs}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pg;Ie.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zl(e))throw Error(E(200));return Eg(t,e,null,r)};Ie.createRoot=function(t,e){if(!zl(t))throw Error(E(299));var r=!1,n="",s=uh;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ml(t,1,!1,null,null,r,!1,n,s),t[bt]=e.current,ts(t.nodeType===8?t.parentNode:t),new Fl(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(E(188)):(t=Object.keys(t).join(","),Error(E(268,t)));return t=Td(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return _r(t)};Ie.hydrate=function(t,e,r){if(!qi(e))throw Error(E(200));return Ki(null,t,e,!0,r)};Ie.hydrateRoot=function(t,e,r){if(!zl(t))throw Error(E(405));var n=r!=null&&r.hydratedSources||null,s=!1,i="",o=uh;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(i=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=lh(e,null,t,1,r??null,s,!1,i,o),t[bt]=e.current,ts(t),n)for(t=0;t<n.length;t++)r=n[t],s=r._getVersion,s=s(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,s]:e.mutableSourceEagerHydrationData.push(r,s);return new Hi(e)};Ie.render=function(t,e,r){if(!qi(e))throw Error(E(200));return Ki(null,t,e,!1,r)};Ie.unmountComponentAtNode=function(t){if(!qi(t))throw Error(E(40));return t._reactRootContainer?(_r(function(){Ki(null,null,t,!1,function(){t._reactRootContainer=null,t[bt]=null})}),!0):!1};Ie.unstable_batchedUpdates=Ll;Ie.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!qi(r))throw Error(E(200));if(t==null||t._reactInternals===void 0)throw Error(E(38));return Ki(t,e,r,!1,n)};Ie.version="18.3.1-next-f1338f8080-20240426";function ch(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ch)}catch(t){console.error(t)}}ch(),ud.exports=Ie;var Og=ud.exports,dh,pc=Og;dh=pc.createRoot,pc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cs(){return cs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cs.apply(this,arguments)}var zt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zt||(zt={}));const mc="popstate";function Rg(t){t===void 0&&(t={});function e(s,i){let{pathname:o="/",search:a="",hash:l=""}=jr(s.location.hash.substr(1));return!o.startsWith("/")&&!o.startsWith(".")&&(o="/"+o),$a("",{pathname:o,search:a,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(s,i){let o=s.document.querySelector("base"),a="";if(o&&o.getAttribute("href")){let l=s.location.href,c=l.indexOf("#");a=c===-1?l:l.slice(0,c)}return a+"#"+(typeof i=="string"?i:Ni(i))}function n(s,i){Wl(s.pathname.charAt(0)==="/","relative pathnames are not supported in hash history.push("+JSON.stringify(i)+")")}return Lg(e,r,n,t)}function se(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Wl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function $g(){return Math.random().toString(36).substr(2,8)}function gc(t,e){return{usr:t.state,key:t.key,idx:e}}function $a(t,e,r,n){return r===void 0&&(r=null),cs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?jr(e):e,{state:r,key:e&&e.key||n||$g()})}function Ni(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function jr(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Lg(t,e,r,n){n===void 0&&(n={});let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,a=zt.Pop,l=null,c=f();c==null&&(c=0,o.replaceState(cs({},o.state,{idx:c}),""));function f(){return(o.state||{idx:null}).idx}function d(){a=zt.Pop;let w=f(),g=w==null?null:w-c;c=w,l&&l({action:a,location:x.location,delta:g})}function m(w,g){a=zt.Push;let h=$a(x.location,w,g);r&&r(h,w),c=f()+1;let p=gc(h,c),_=x.createHref(h);try{o.pushState(p,"",_)}catch(j){if(j instanceof DOMException&&j.name==="DataCloneError")throw j;s.location.assign(_)}i&&l&&l({action:a,location:x.location,delta:1})}function v(w,g){a=zt.Replace;let h=$a(x.location,w,g);r&&r(h,w),c=f();let p=gc(h,c),_=x.createHref(h);o.replaceState(p,"",_),i&&l&&l({action:a,location:x.location,delta:0})}function y(w){let g=s.location.origin!=="null"?s.location.origin:s.location.href,h=typeof w=="string"?w:Ni(w);return h=h.replace(/ $/,"%20"),se(g,"No window.location.(origin|href) available to create URL for href: "+h),new URL(h,g)}let x={get action(){return a},get location(){return t(s,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(mc,d),l=w,()=>{s.removeEventListener(mc,d),l=null}},createHref(w){return e(s,w)},createURL:y,encodeLocation(w){let g=y(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:v,go(w){return o.go(w)}};return x}var vc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(vc||(vc={}));function Ag(t,e,r){return r===void 0&&(r="/"),Ig(t,e,r)}function Ig(t,e,r,n){let s=typeof e=="string"?jr(e):e,i=Bl(s.pathname||"/",r);if(i==null)return null;let o=fh(t);Dg(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=Yg(i);a=qg(o[l],c)}return a}function fh(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(se(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=Gt([n,l.relativePath]),f=r.concat(l);i.children&&i.children.length>0&&(se(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),fh(i.children,e,f,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Vg(c,i.index),routesMeta:f})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of hh(i.path))s(i,o,l)}),e}function hh(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=hh(n.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function Dg(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Hg(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Mg=/^:[\w-]+$/,Ug=3,Fg=2,zg=1,Wg=10,Bg=-2,yc=t=>t==="*";function Vg(t,e){let r=t.split("/"),n=r.length;return r.some(yc)&&(n+=Bg),e&&(n+=Fg),r.filter(s=>!yc(s)).reduce((s,i)=>s+(Mg.test(i)?Ug:i===""?zg:Wg),n)}function Hg(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function qg(t,e,r){let{routesMeta:n}=t,s={},i="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],c=a===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",d=Kg({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},f),m=l.route;if(!d)return null;Object.assign(s,d.params),o.push({params:s,pathname:Gt([i,d.pathname]),pathnameBase:Zg(Gt([i,d.pathnameBase])),route:m}),d.pathnameBase!=="/"&&(i=Gt([i,d.pathnameBase]))}return o}function Kg(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Qg(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:n.reduce((c,f,d)=>{let{paramName:m,isOptional:v}=f;if(m==="*"){let x=a[d]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const y=a[d];return v&&!y?c[m]=void 0:c[m]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function Qg(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Wl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function Yg(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Wl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Bl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function Gg(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?jr(t):t;return{pathname:r?r.startsWith("/")?r:Jg(r,e):e,search:ev(n),hash:tv(s)}}function Jg(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function To(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Xg(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Vl(t,e){let r=Xg(t);return e?r.map((n,s)=>s===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hl(t,e,r,n){n===void 0&&(n=!1);let s;typeof t=="string"?s=jr(t):(s=cs({},t),se(!s.pathname||!s.pathname.includes("?"),To("?","pathname","search",s)),se(!s.pathname||!s.pathname.includes("#"),To("#","pathname","hash",s)),se(!s.search||!s.search.includes("#"),To("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),d-=1;s.pathname=m.join("/")}a=d>=0?e[d]:"/"}let l=Gg(s,a),c=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||f)&&(l.pathname+="/"),l}const Gt=t=>t.join("/").replace(/\/\/+/g,"/"),Zg=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ev=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,tv=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function rv(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const ph=["post","put","patch","delete"];new Set(ph);const nv=["get",...ph];new Set(nv);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ds(){return ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ds.apply(this,arguments)}const ql=b.createContext(null),sv=b.createContext(null),rr=b.createContext(null),Qi=b.createContext(null),Nt=b.createContext({outlet:null,matches:[],isDataRoute:!1}),mh=b.createContext(null);function iv(t,e){let{relative:r}=e===void 0?{}:e;pn()||se(!1);let{basename:n,navigator:s}=b.useContext(rr),{hash:i,pathname:o,search:a}=vh(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Gt([n,o])),s.createHref({pathname:l,search:a,hash:i})}function pn(){return b.useContext(Qi)!=null}function mn(){return pn()||se(!1),b.useContext(Qi).location}function gh(t){b.useContext(rr).static||b.useLayoutEffect(t)}function xs(){let{isDataRoute:t}=b.useContext(Nt);return t?xv():ov()}function ov(){pn()||se(!1);let t=b.useContext(ql),{basename:e,future:r,navigator:n}=b.useContext(rr),{matches:s}=b.useContext(Nt),{pathname:i}=mn(),o=JSON.stringify(Vl(s,r.v7_relativeSplatPath)),a=b.useRef(!1);return gh(()=>{a.current=!0}),b.useCallback(function(c,f){if(f===void 0&&(f={}),!a.current)return;if(typeof c=="number"){n.go(c);return}let d=Hl(c,JSON.parse(o),i,f.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Gt([e,d.pathname])),(f.replace?n.replace:n.push)(d,f.state,f)},[e,n,o,i,t])}const av=b.createContext(null);function lv(t){let e=b.useContext(Nt).outlet;return e&&b.createElement(av.Provider,{value:t},e)}function vh(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=b.useContext(rr),{matches:s}=b.useContext(Nt),{pathname:i}=mn(),o=JSON.stringify(Vl(s,n.v7_relativeSplatPath));return b.useMemo(()=>Hl(t,JSON.parse(o),i,r==="path"),[t,o,i,r])}function uv(t,e){return cv(t,e)}function cv(t,e,r,n){pn()||se(!1);let{navigator:s}=b.useContext(rr),{matches:i}=b.useContext(Nt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=mn(),f;if(e){var d;let w=typeof e=="string"?jr(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||se(!1),f=w}else f=c;let m=f.pathname||"/",v=m;if(l!=="/"){let w=l.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(w.length).join("/")}let y=Ag(t,{pathname:v}),x=mv(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Gt([l,s.encodeLocation?s.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Gt([l,s.encodeLocation?s.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r,n);return e&&x?b.createElement(Qi.Provider,{value:{location:ds({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:zt.Pop}},x):x}function dv(){let t=wv(),e=rv(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,null)}const fv=b.createElement(dv,null);class hv extends b.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?b.createElement(Nt.Provider,{value:this.props.routeContext},b.createElement(mh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function pv(t){let{routeContext:e,match:r,children:n}=t,s=b.useContext(ql);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),b.createElement(Nt.Provider,{value:e},n)}function mv(t,e,r,n){var s;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(s=r)==null?void 0:s.errors;if(a!=null){let f=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);f>=0||se(!1),o=o.slice(0,Math.min(o.length,f+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<o.length;f++){let d=o[f];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=f),d.route.id){let{loaderData:m,errors:v}=r,y=d.route.loader&&m[d.route.id]===void 0&&(!v||v[d.route.id]===void 0);if(d.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((f,d,m)=>{let v,y=!1,x=null,w=null;r&&(v=a&&d.route.id?a[d.route.id]:void 0,x=d.route.errorElement||fv,l&&(c<0&&m===0?(_v("route-fallback"),y=!0,w=null):c===m&&(y=!0,w=d.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,m+1)),h=()=>{let p;return v?p=x:y?p=w:d.route.Component?p=b.createElement(d.route.Component,null):d.route.element?p=d.route.element:p=f,b.createElement(pv,{match:d,routeContext:{outlet:f,matches:g,isDataRoute:r!=null},children:p})};return r&&(d.route.ErrorBoundary||d.route.errorElement||m===0)?b.createElement(hv,{location:r.location,revalidation:r.revalidation,component:x,error:v,children:h(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):h()},null)}var yh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(yh||{}),wh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(wh||{});function gv(t){let e=b.useContext(ql);return e||se(!1),e}function vv(t){let e=b.useContext(sv);return e||se(!1),e}function yv(t){let e=b.useContext(Nt);return e||se(!1),e}function xh(t){let e=yv(),r=e.matches[e.matches.length-1];return r.route.id||se(!1),r.route.id}function wv(){var t;let e=b.useContext(mh),r=vv(),n=xh();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function xv(){let{router:t}=gv(yh.UseNavigateStable),e=xh(wh.UseNavigateStable),r=b.useRef(!1);return gh(()=>{r.current=!0}),b.useCallback(function(s,i){i===void 0&&(i={}),r.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ds({fromRouteId:e},i)))},[t,e])}const wc={};function _v(t,e,r){wc[t]||(wc[t]=!0)}function bv(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Kl(t){let{to:e,replace:r,state:n,relative:s}=t;pn()||se(!1);let{future:i,static:o}=b.useContext(rr),{matches:a}=b.useContext(Nt),{pathname:l}=mn(),c=xs(),f=Hl(e,Vl(a,i.v7_relativeSplatPath),l,s==="path"),d=JSON.stringify(f);return b.useEffect(()=>c(JSON.parse(d),{replace:r,state:n,relative:s}),[c,d,s,r,n]),null}function kv(t){return lv(t.context)}function ht(t){se(!1)}function Sv(t){let{basename:e="/",children:r=null,location:n,navigationType:s=zt.Pop,navigator:i,static:o=!1,future:a}=t;pn()&&se(!1);let l=e.replace(/^\/*/,"/"),c=b.useMemo(()=>({basename:l,navigator:i,static:o,future:ds({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof n=="string"&&(n=jr(n));let{pathname:f="/",search:d="",hash:m="",state:v=null,key:y="default"}=n,x=b.useMemo(()=>{let w=Bl(f,l);return w==null?null:{location:{pathname:w,search:d,hash:m,state:v,key:y},navigationType:s}},[l,f,d,m,v,y,s]);return x==null?null:b.createElement(rr.Provider,{value:c},b.createElement(Qi.Provider,{children:r,value:x}))}function jv(t){let{children:e,location:r}=t;return uv(La(e),r)}new Promise(()=>{});function La(t,e){e===void 0&&(e=[]);let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,La(n.props.children,i));return}n.type!==ht&&se(!1),!n.props.index||!n.props.children||se(!1);let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=La(n.props.children,i)),r.push(o)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Aa.apply(this,arguments)}function Ev(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Nv(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Cv(t,e){return t.button===0&&(!e||e==="_self")&&!Nv(t)}const Pv=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Tv="6";try{window.__reactRouterVersion=Tv}catch{}const Ov="startTransition",xc=xp[Ov];function Rv(t){let{basename:e,children:r,future:n,window:s}=t,i=b.useRef();i.current==null&&(i.current=Rg({window:s,v5Compat:!0}));let o=i.current,[a,l]=b.useState({action:o.action,location:o.location}),{v7_startTransition:c}=n||{},f=b.useCallback(d=>{c&&xc?xc(()=>l(d)):l(d)},[l,c]);return b.useLayoutEffect(()=>o.listen(f),[o,f]),b.useEffect(()=>bv(n),[n]),b.createElement(Sv,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const $v=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Lv=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Av=b.forwardRef(function(e,r){let{onClick:n,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:f,viewTransition:d}=e,m=Ev(e,Pv),{basename:v}=b.useContext(rr),y,x=!1;if(typeof c=="string"&&Lv.test(c)&&(y=c,$v))try{let p=new URL(window.location.href),_=c.startsWith("//")?new URL(p.protocol+c):new URL(c),j=Bl(_.pathname,v);_.origin===p.origin&&j!=null?c=j+_.search+_.hash:x=!0}catch{}let w=iv(c,{relative:s}),g=Iv(c,{replace:o,state:a,target:l,preventScrollReset:f,relative:s,viewTransition:d});function h(p){n&&n(p),p.defaultPrevented||g(p)}return b.createElement("a",Aa({},m,{href:y||w,onClick:x||i?n:h,ref:r,target:l}))});var _c;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_c||(_c={}));var bc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(bc||(bc={}));function Iv(t,e){let{target:r,replace:n,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=xs(),c=mn(),f=vh(t,{relative:o});return b.useCallback(d=>{if(Cv(d,r)){d.preventDefault();let m=n!==void 0?n:Ni(c)===Ni(f);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,f,n,s,r,t,i,o,a])}const Dv={},kc=t=>{let e;const r=new Set,n=(f,d)=>{const m=typeof f=="function"?f(e):f;if(!Object.is(m,e)){const v=e;e=d??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(y=>y(e,v))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>c,subscribe:f=>(r.add(f),()=>r.delete(f)),destroy:()=>{(Dv?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},c=e=t(n,s,l);return l},Mv=t=>t?kc(t):kc;var _h={exports:{}},bh={},kh={exports:{}},Sh={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var un=b;function Uv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fv=typeof Object.is=="function"?Object.is:Uv,zv=un.useState,Wv=un.useEffect,Bv=un.useLayoutEffect,Vv=un.useDebugValue;function Hv(t,e){var r=e(),n=zv({inst:{value:r,getSnapshot:e}}),s=n[0].inst,i=n[1];return Bv(function(){s.value=r,s.getSnapshot=e,Oo(s)&&i({inst:s})},[t,r,e]),Wv(function(){return Oo(s)&&i({inst:s}),t(function(){Oo(s)&&i({inst:s})})},[t]),Vv(r),r}function Oo(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Fv(t,r)}catch{return!0}}function qv(t,e){return e()}var Kv=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qv:Hv;Sh.useSyncExternalStore=un.useSyncExternalStore!==void 0?un.useSyncExternalStore:Kv;kh.exports=Sh;var Qv=kh.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yi=b,Yv=Qv;function Gv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Jv=typeof Object.is=="function"?Object.is:Gv,Xv=Yv.useSyncExternalStore,Zv=Yi.useRef,e0=Yi.useEffect,t0=Yi.useMemo,r0=Yi.useDebugValue;bh.useSyncExternalStoreWithSelector=function(t,e,r,n,s){var i=Zv(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=t0(function(){function l(v){if(!c){if(c=!0,f=v,v=n(v),s!==void 0&&o.hasValue){var y=o.value;if(s(y,v))return d=y}return d=v}if(y=d,Jv(f,v))return y;var x=n(v);return s!==void 0&&s(y,x)?(f=v,y):(f=v,d=x)}var c=!1,f,d,m=r===void 0?null:r;return[function(){return l(e())},m===null?void 0:function(){return l(m())}]},[e,r,n,s]);var a=Xv(t,i[0],i[1]);return e0(function(){o.hasValue=!0,o.value=a},[a]),r0(a),a};_h.exports=bh;var n0=_h.exports;const s0=Jc(n0),jh={},{useDebugValue:i0}=Ir,{useSyncExternalStoreWithSelector:o0}=s0;let Sc=!1;const a0=t=>t;function l0(t,e=a0,r){(jh?"production":void 0)!=="production"&&r&&!Sc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Sc=!0);const n=o0(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,r);return i0(n),n}const jc=t=>{(jh?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?Mv(t):t,r=(n,s)=>l0(e,n,s);return Object.assign(r,e),r},u0=t=>t?jc(t):jc,c0="modulepreload",d0=function(t){return"/PAPDfleetGoogle/"+t},Ec={},_s=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));s=Promise.allSettled(r.map(l=>{if(l=d0(l),l in Ec)return;Ec[l]=!0;const c=l.endsWith(".css"),f=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":c0,c||(d.as="script"),d.crossOrigin="",d.href=l,a&&d.setAttribute("nonce",a),document.head.appendChild(d),c)return new Promise((m,v)=>{d.addEventListener("load",m),d.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return s.then(o=>{for(const a of o||[])a.status==="rejected"&&i(a.reason);return e().catch(i)})},f0=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)};class Ql extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class h0 extends Ql{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Nc extends Ql{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Cc extends Ql{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ia;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ia||(Ia={}));var p0=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class m0{constructor(e,{headers:r={},customFetch:n,region:s=Ia.Any}={}){this.url=e,this.headers=r,this.region=s,this.fetch=f0(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,r={}){var n;return p0(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=r;let a={},{region:l}=r;l||(l=this.region);const c=new URL(`${this.url}/${e}`);l&&l!=="any"&&(a["x-region"]=l,c.searchParams.set("forceFunctionRegion",l));let f;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",f=o):typeof o=="string"?(a["Content-Type"]="text/plain",f=o):typeof FormData<"u"&&o instanceof FormData?f=o:(a["Content-Type"]="application/json",f=JSON.stringify(o)));const d=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:f}).catch(x=>{throw new h0(x)}),m=d.headers.get("x-relay-error");if(m&&m==="true")throw new Nc(d);if(!d.ok)throw new Cc(d);let v=((n=d.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),y;return v==="application/json"?y=yield d.json():v==="application/octet-stream"?y=yield d.blob():v==="text/event-stream"?y=d:v==="multipart/form-data"?y=yield d.formData():y=yield d.text(),{data:y,error:null,response:d}}catch(s){return{data:null,error:s,response:s instanceof Cc||s instanceof Nc?s.context:void 0}}})}}var Ne={},Yl={},Gi={},bs={},Ji={},Xi={},g0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},cn=g0();const v0=cn.fetch,Eh=cn.fetch.bind(cn),Nh=cn.Headers,y0=cn.Request,w0=cn.Response,gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Nh,Request:y0,Response:w0,default:Eh,fetch:v0},Symbol.toStringTag,{value:"Module"})),x0=sp(gn);var Zi={};Object.defineProperty(Zi,"__esModule",{value:!0});let _0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Zi.default=_0;var Ch=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Xi,"__esModule",{value:!0});const b0=Ch(x0),k0=Ch(Zi);let S0=class{constructor(e){var r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(r=e.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=b0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,r){return this.headers=new Headers(this.headers),this.headers.set(e,r),this}then(e,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l,c;let f=null,d=null,m=null,v=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){const h=await i.text();h===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?d=h:d=JSON.parse(h))}const w=(a=this.headers.get("Prefer"))===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),g=(l=i.headers.get("content-range"))===null||l===void 0?void 0:l.split("/");w&&g&&g.length>1&&(m=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(f={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,m=null,v=406,y="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const w=await i.text();try{f=JSON.parse(w),Array.isArray(f)&&i.status===404&&(d=[],f=null,v=200,y="OK")}catch{i.status===404&&w===""?(v=204,y="No Content"):f={message:w}}if(f&&this.isMaybeSingle&&(!((c=f==null?void 0:f.details)===null||c===void 0)&&c.includes("0 rows"))&&(f=null,v=200,y="OK"),f&&this.shouldThrowOnError)throw new k0.default(f)}return{error:f,data:d,count:m,status:v,statusText:y}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,r)}returns(){return this}overrideTypes(){return this}};Xi.default=S0;var j0=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ji,"__esModule",{value:!0});const E0=j0(Xi);let N0=class extends E0.default{select(e){let r=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,r,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${r-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Ji.default=N0;var C0=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(bs,"__esModule",{value:!0});const P0=C0(Ji);let T0=class extends P0.default{eq(e,r){return this.url.searchParams.append(e,`eq.${r}`),this}neq(e,r){return this.url.searchParams.append(e,`neq.${r}`),this}gt(e,r){return this.url.searchParams.append(e,`gt.${r}`),this}gte(e,r){return this.url.searchParams.append(e,`gte.${r}`),this}lt(e,r){return this.url.searchParams.append(e,`lt.${r}`),this}lte(e,r){return this.url.searchParams.append(e,`lte.${r}`),this}like(e,r){return this.url.searchParams.append(e,`like.${r}`),this}likeAllOf(e,r){return this.url.searchParams.append(e,`like(all).{${r.join(",")}}`),this}likeAnyOf(e,r){return this.url.searchParams.append(e,`like(any).{${r.join(",")}}`),this}ilike(e,r){return this.url.searchParams.append(e,`ilike.${r}`),this}ilikeAllOf(e,r){return this.url.searchParams.append(e,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(e,r){return this.url.searchParams.append(e,`ilike(any).{${r.join(",")}}`),this}is(e,r){return this.url.searchParams.append(e,`is.${r}`),this}in(e,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cs.{${r.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(r)}`),this}containedBy(e,r){return typeof r=="string"?this.url.searchParams.append(e,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(e,`cd.{${r.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(r)}`),this}rangeGt(e,r){return this.url.searchParams.append(e,`sr.${r}`),this}rangeGte(e,r){return this.url.searchParams.append(e,`nxl.${r}`),this}rangeLt(e,r){return this.url.searchParams.append(e,`sl.${r}`),this}rangeLte(e,r){return this.url.searchParams.append(e,`nxr.${r}`),this}rangeAdjacent(e,r){return this.url.searchParams.append(e,`adj.${r}`),this}overlaps(e,r){return typeof r=="string"?this.url.searchParams.append(e,`ov.${r}`):this.url.searchParams.append(e,`ov.{${r.join(",")}}`),this}textSearch(e,r,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${r}`),this}match(e){return Object.entries(e).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(e,r,n){return this.url.searchParams.append(e,`not.${r}.${n}`),this}or(e,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,r,n){return this.url.searchParams.append(e,`${r}.${n}`),this}};bs.default=T0;var O0=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Gi,"__esModule",{value:!0});const Nn=O0(bs);let R0=class{constructor(e,{headers:r={},schema:n,fetch:s}){this.url=e,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(e,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&this.headers.append("Prefer",`count=${n}`),new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:r,defaultToNull:n=!0}={}){var s;const i="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Nn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){var o;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const l=e.reduce((c,f)=>c.concat(Object.keys(f)),[]);if(l.length>0){const c=[...new Set(l)].map(f=>`"${f}"`);this.url.searchParams.set("columns",c.join(","))}}return new Nn.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new Nn.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var r;const n="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Nn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};Gi.default=R0;var Ph=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yl,"__esModule",{value:!0});const $0=Ph(Gi),L0=Ph(bs);let A0=class Th{constructor(e,{headers:r={},schema:n,fetch:s}={}){this.url=e,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(e){const r=new URL(`${this.url}/${e}`);return new $0.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Th(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,r={},{head:n=!1,get:s=!1,count:i}={}){var o;let a;const l=new URL(`${this.url}/rpc/${e}`);let c;n||s?(a=n?"HEAD":"GET",Object.entries(r).filter(([d,m])=>m!==void 0).map(([d,m])=>[d,Array.isArray(m)?`{${m.join(",")}}`:`${m}`]).forEach(([d,m])=>{l.searchParams.append(d,m)})):(a="POST",c=r);const f=new Headers(this.headers);return i&&f.set("Prefer",`count=${i}`),new L0.default({method:a,url:l,headers:f,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Yl.default=A0;var vn=We&&We.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ne,"__esModule",{value:!0});Ne.PostgrestError=Ne.PostgrestBuilder=Ne.PostgrestTransformBuilder=Ne.PostgrestFilterBuilder=Ne.PostgrestQueryBuilder=Ne.PostgrestClient=void 0;const Oh=vn(Yl);Ne.PostgrestClient=Oh.default;const Rh=vn(Gi);Ne.PostgrestQueryBuilder=Rh.default;const $h=vn(bs);Ne.PostgrestFilterBuilder=$h.default;const Lh=vn(Ji);Ne.PostgrestTransformBuilder=Lh.default;const Ah=vn(Xi);Ne.PostgrestBuilder=Ah.default;const Ih=vn(Zi);Ne.PostgrestError=Ih.default;var I0=Ne.default={PostgrestClient:Oh.default,PostgrestQueryBuilder:Rh.default,PostgrestFilterBuilder:$h.default,PostgrestTransformBuilder:Lh.default,PostgrestBuilder:Ah.default,PostgrestError:Ih.default};const{PostgrestClient:D0,PostgrestQueryBuilder:c_,PostgrestFilterBuilder:d_,PostgrestTransformBuilder:f_,PostgrestBuilder:h_,PostgrestError:p_}=I0;class M0{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const U0="2.15.1",F0=`realtime-js/${U0}`,z0="1.0.0",Da=1e4,W0=1e3,B0=100;var Vn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Vn||(Vn={}));var oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(oe||(oe={}));var Ze;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ze||(Ze={}));var Ma;(function(t){t.websocket="websocket"})(Ma||(Ma={}));var dr;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dr||(dr={}));class V0{constructor(){this.HEADER_LENGTH=1}decode(e,r){return e.constructor===ArrayBuffer?r(this._binaryDecode(e)):r(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const r=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,r,n)}_decodeBroadcast(e,r,n){const s=r.getUint8(1),i=r.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+s));o=o+s;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class Dh{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var H;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(H||(H={}));const Pc=(t,e,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=H0(o,t,e,s),i),{})},H0=(t,e,r,n)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=r[t];return i&&!n.includes(i)?Mh(i,o):Ua(o)},Mh=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return Y0(e,r)}switch(t){case H.bool:return q0(e);case H.float4:case H.float8:case H.int2:case H.int4:case H.int8:case H.numeric:case H.oid:return K0(e);case H.json:case H.jsonb:return Q0(e);case H.timestamp:return G0(e);case H.abstime:case H.date:case H.daterange:case H.int4range:case H.int8range:case H.money:case H.reltime:case H.text:case H.time:case H.timestamptz:case H.timetz:case H.tsrange:case H.tstzrange:return Ua(e);default:return Ua(e)}},Ua=t=>t,q0=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},K0=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Q0=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Y0=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,r);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Mh(e,a))}return t},G0=t=>typeof t=="string"?t.replace(" ","T"):t,Uh=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Ro{constructor(e,r,n={},s=Da){this.channel=e,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Tc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Tc||(Tc={}));class Hn{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Hn.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Hn.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Hn.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,s){const i=this.cloneDeep(e),o=this.transformState(r),a={},l={};return this.map(i,(c,f)=>{o[c]||(l[c]=f)}),this.map(o,(c,f)=>{const d=i[c];if(d){const m=f.map(w=>w.presence_ref),v=d.map(w=>w.presence_ref),y=f.filter(w=>v.indexOf(w.presence_ref)<0),x=d.filter(w=>m.indexOf(w.presence_ref)<0);y.length>0&&(a[c]=y),x.length>0&&(l[c]=x)}else a[c]=f}),this.syncDiff(i,{joins:a,leaves:l},n,s)}static syncDiff(e,r,n,s){const{joins:i,leaves:o}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const f=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),f.length>0){const d=e[a].map(v=>v.presence_ref),m=f.filter(v=>d.indexOf(v.presence_ref)<0);e[a].unshift(...m)}n(a,f,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const f=l.map(d=>d.presence_ref);c=c.filter(d=>f.indexOf(d.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const s=e[n];return"metas"in s?r[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):r[n]=s,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Oc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Oc||(Oc={}));var qn;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(qn||(qn={}));var gt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(gt||(gt={}));class Gl{constructor(e,r={config:{}},n){this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ro(this,Ze.join,this.params,this.timeout),this.rejoinTimer=new Dh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ze.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Hn(this),this.broadcastEndpointURL=Uh(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,r=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==oe.closed){const{config:{broadcast:i,presence:o,private:a}}=this.params,l=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(m=>m.filter))!==null&&s!==void 0?s:[],c=!!this.bindings[qn.PRESENCE]&&this.bindings[qn.PRESENCE].length>0,f={},d={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:c}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(m=>e==null?void 0:e(gt.CHANNEL_ERROR,m)),this._onClose(()=>e==null?void 0:e(gt.CLOSED)),this.updateJoinPayload(Object.assign({config:d},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:m})=>{var v;if(this.socket.setAuth(),m===void 0){e==null||e(gt.SUBSCRIBED);return}else{const y=this.bindings.postgres_changes,x=(v=y==null?void 0:y.length)!==null&&v!==void 0?v:0,w=[];for(let g=0;g<x;g++){const h=y[g],{filter:{event:p,schema:_,table:j,filter:N}}=h,C=m&&m[g];if(C&&C.event===p&&C.schema===_&&C.table===j&&C.filter===N)w.push(Object.assign(Object.assign({},h),{id:C.id}));else{this.unsubscribe(),this.state=oe.errored,e==null||e(gt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,e&&e(gt.SUBSCRIBED);return}}).receive("error",m=>{this.state=oe.errored,e==null||e(gt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(m).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(gt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===oe.joined&&e===qn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async send(e,r={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ze.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ro(this,Ze.leave,{},e),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=oe.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(i),o}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ro(this,e,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>B0){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:f}=Ze;if(n&&[a,l,c,f].indexOf(o)>=0&&n!==this._joinRef())return;let m=this._onMessage(o,r,n);if(r&&!m)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,x,w;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((w=(x=v.filter)===null||x===void 0?void 0:x.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===o}).map(v=>v.callback(m,n)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,x,w,g,h,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const _=v.id,j=(y=v.filter)===null||y===void 0?void 0:y.event;return _&&((x=r.ids)===null||x===void 0?void 0:x.includes(_))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const _=(h=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||h===void 0?void 0:h.toLocaleLowerCase();return _==="*"||_===((p=r==null?void 0:r.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof m=="object"&&"ids"in m){const y=m.data,{schema:x,table:w,commit_timestamp:g,type:h,errors:p}=y;m=Object.assign(Object.assign({},{schema:x,table:w,commit_timestamp:g,eventType:h,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(m,n)})}_isClosed(){return this.state===oe.closed}_isJoined(){return this.state===oe.joined}_isJoining(){return this.state===oe.joining}_isLeaving(){return this.state===oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const s=e.toLocaleLowerCase(),i={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&Gl.isEqual(s.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ze.close,{},e)}_onError(e){this._on(Ze.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Pc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Pc(e.columns,e.old_record)),r}}const Rc=()=>{},zs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},J0=[1e3,2e3,5e3,1e4],X0=1e4,Z0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class ey{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Da,this.transport=null,this.heartbeatIntervalMs=zs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rc,this.ref=0,this.reconnectTimer=null,this.logger=Rc,this.conn=null,this.sendBuffer=[],this.serializer=new V0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>_s(async()=>{const{default:a}=await Promise.resolve().then(()=>gn);return{default:a}},void 0).then(({default:a})=>a(...o)).catch(a=>{throw new Error(`Failed to load @supabase/node-fetch: ${a.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${Ma.websocket}`,this.httpEndpoint=Uh(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=M0.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:z0}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},e?this.conn.close(e,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Vn.connecting:return dr.Connecting;case Vn.open:return dr.Open;case Vn.closing:return dr.Closing;default:return dr.Closed}}isConnected(){return this.connectionState()===dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new Gl(`realtime:${e}`,r,this);return this.channels.push(i),i}}push(e){const{topic:r,event:n,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${r} ${n} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(W0,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},zs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{r.topic==="phoenix"&&r.event==="phx_reply"&&this.heartbeatCallback(r.payload.status==="ok"?"ok":"error"),r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:i,ref:o}=r,a=o?`(${o})`:"",l=i.status||"";this.log("receive",`${l} ${n} ${s} ${a}`.trim(),i),this.channels.filter(c=>c._isMember(n)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ze.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${e}${n}${s}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([Z0],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:F0};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ze.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new Dh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},zs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,s,i,o,a,l,c;if(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:Da,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:zs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(a=e==null?void 0:e.reconnectAfterMs)!==null&&a!==void 0?a:f=>J0[f-1]||X0,this.encode=(l=e==null?void 0:e.encode)!==null&&l!==void 0?l:(f,d)=>d(JSON.stringify(f)),this.decode=(c=e==null?void 0:e.decode)!==null&&c!==void 0?c:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Jl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ae(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class ty extends Jl{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fa extends Jl{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}var ry=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Fh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},ny=()=>ry(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield _s(()=>Promise.resolve().then(()=>gn),void 0)).Response:Response}),za=t=>{if(Array.isArray(t))return t.map(r=>za(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=za(n)}),e},sy=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Er=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const $o=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iy=(t,e,r)=>Er(void 0,void 0,void 0,function*(){const n=yield ny();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new ty($o(s),i,o))}).catch(s=>{e(new Fa($o(s),s))}):e(new Fa($o(t),t))}),oy=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?s:(sy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(n)):s.body=n,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),r))};function ks(t,e,r,n,s,i){return Er(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(r,oy(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>iy(l,a,n))})})}function Ci(t,e,r,n){return Er(this,void 0,void 0,function*(){return ks(t,"GET",e,r,n)})}function lt(t,e,r,n,s){return Er(this,void 0,void 0,function*(){return ks(t,"POST",e,n,s,r)})}function Wa(t,e,r,n,s){return Er(this,void 0,void 0,function*(){return ks(t,"PUT",e,n,s,r)})}function ay(t,e,r,n){return Er(this,void 0,void 0,function*(){return ks(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function zh(t,e,r,n,s){return Er(this,void 0,void 0,function*(){return ks(t,"DELETE",e,n,s,r)})}var xe=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const ly={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$c={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class uy{constructor(e,r={},n,s){this.url=e,this.headers=r,this.bucketId=n,this.fetch=Fh(s)}uploadOrUpdate(e,r,n,s){return xe(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},$c),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(r),f=this._getFinalPath(c),d=yield(e=="PUT"?Wa:lt)(this.fetch,`${this.url}/object/${f}`,i,Object.assign({headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(i){if(ae(i))return{data:null,error:i};throw i}})}upload(e,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,s){return xe(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",r);try{let l;const c=Object.assign({upsert:$c.upsert},s),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,f["cache-control"]=`max-age=${c.cacheControl}`,f["content-type"]=c.contentType);const d=yield Wa(this.fetch,a.toString(),l,{headers:f});return{data:{path:i,fullPath:d.Key},error:null}}catch(l){if(ae(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return xe(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const i=yield lt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Jl("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}update(e,r,n){return xe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return xe(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}copy(e,r,n){return xe(this,void 0,void 0,function*(){try{return{data:{path:(yield lt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrl(e,r,n){return xe(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield lt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}createSignedUrls(e,r,n){return xe(this,void 0,void 0,function*(){try{const s=yield lt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}download(e,r){return xe(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield Ci(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ae(a))return{data:null,error:a};throw a}})}info(e){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Ci(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:za(n),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}exists(e){return xe(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield ay(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(ae(n)&&n instanceof Fa){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),s=[],i=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";i!==""&&s.push(i);const a=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return xe(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}list(e,r,n){return xe(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ly),r),{prefix:e||""});return{data:yield lt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(ae(s))return{data:null,error:s};throw s}})}listV2(e,r){return xe(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield lt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const cy="2.11.0",dy={"X-Client-Info":`storage-js/${cy}`};var Cr=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class fy{constructor(e,r={},n,s){const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},dy),r),this.fetch=Fh(n)}listBuckets(){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ae(e))return{data:null,error:e};throw e}})}getBucket(e){return Cr(this,void 0,void 0,function*(){try{return{data:yield Ci(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}createBucket(e,r={public:!1}){return Cr(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}updateBucket(e,r){return Cr(this,void 0,void 0,function*(){try{return{data:yield Wa(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ae(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Cr(this,void 0,void 0,function*(){try{return{data:yield lt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}deleteBucket(e){return Cr(this,void 0,void 0,function*(){try{return{data:yield zh(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(ae(r))return{data:null,error:r};throw r}})}}class hy extends fy{constructor(e,r={},n,s){super(e,r,n,s)}from(e){return new uy(this.url,this.headers,e,this.fetch)}}const py="2.56.0";let Ln="";typeof Deno<"u"?Ln="deno":typeof document<"u"?Ln="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ln="react-native":Ln="node";const my={"X-Client-Info":`supabase-js-${Ln}/${py}`},gy={headers:my},vy={schema:"public"},yy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wy={};var xy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const _y=t=>{let e;return t?e=t:typeof fetch>"u"?e=Eh:e=fetch,(...r)=>e(...r)},by=()=>typeof Headers>"u"?Nh:Headers,ky=(t,e,r)=>{const n=_y(r),s=by();return(i,o)=>xy(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};var Sy=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};function jy(t){return t.endsWith("/")?t:t+"/"}function Ey(t,e){var r,n;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:f,global:d}=e,m={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},f),o),storage:{},global:Object.assign(Object.assign(Object.assign({},d),a),{headers:Object.assign(Object.assign({},(r=d==null?void 0:d.headers)!==null&&r!==void 0?r:{}),(n=a==null?void 0:a.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Sy(this,void 0,void 0,function*(){return""})};return t.accessToken?m.accessToken=t.accessToken:delete m.accessToken,m}const Wh="2.71.1",Lr=30*1e3,Ba=3,Lo=Ba*Lr,Ny="http://localhost:9999",Cy="supabase.auth.token",Py={"X-Client-Info":`gotrue-js/${Wh}`},Va="X-Supabase-Api-Version",Bh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Ty=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Oy=10*60*1e3;class Xl extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function I(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ry extends Xl{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function $y(t){return I(t)&&t.name==="AuthApiError"}class Vh extends Xl{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class nr extends Xl{constructor(e,r,n,s){super(e,n,s),this.name=r,this.status=n}}class Rt extends nr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ly(t){return I(t)&&t.name==="AuthSessionMissingError"}class Ws extends nr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Bs extends nr{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Vs extends nr{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ay(t){return I(t)&&t.name==="AuthImplicitGrantRedirectError"}class Lc extends nr{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ha extends nr{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function Ao(t){return I(t)&&t.name==="AuthRetryableFetchError"}class Ac extends nr{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class qa extends nr{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ic=` 	
\r=`.split(""),Iy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ic.length;e+=1)t[Ic[e].charCodeAt(0)]=-2;for(let e=0;e<Pi.length;e+=1)t[Pi[e].charCodeAt(0)]=e;return t})();function Dc(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pi[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(Pi[n]),e.queuedBits-=6}}function Hh(t,e,r){const n=Iy[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Mc(t){const e=[],r=o=>{e.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Uy(o,n,r)};for(let o=0;o<t.length;o+=1)Hh(t.charCodeAt(o),s,i);return e.join("")}function Dy(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function My(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Dy(n,e)}}function Uy(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if(!(t>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function Fy(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Hh(t.charCodeAt(s),r,n);return new Uint8Array(e)}function zy(t){const e=[];return My(t,r=>e.push(r)),new Uint8Array(e)}function Wy(t){const e=[],r={queue:0,queuedBits:0},n=s=>{e.push(s)};return t.forEach(s=>Dc(s,r,n)),Dc(null,r,n),e.join("")}function By(t){return Math.round(Date.now()/1e3)+t}function Vy(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ge=()=>typeof window<"u"&&typeof document<"u",ir={tested:!1,writable:!1},qh=()=>{if(!Ge())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ir.tested)return ir.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),ir.tested=!0,ir.writable=!0}catch{ir.tested=!0,ir.writable=!1}return ir.writable};function Hy(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return r.searchParams.forEach((n,s)=>{e[s]=n}),e}const Kh=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...r)=>_s(async()=>{const{default:n}=await Promise.resolve().then(()=>gn);return{default:n}},void 0).then(({default:n})=>n(...r)):e=fetch,(...r)=>e(...r)},qy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Ar=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},or=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Tt=async(t,e)=>{await t.removeItem(e)};class eo{constructor(){this.promise=new eo.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}eo.promiseConstructor=Promise;function Io(t){const e=t.split(".");if(e.length!==3)throw new qa("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Ty.test(e[n]))throw new qa("JWT not in base64url format");return{header:JSON.parse(Mc(e[0])),payload:JSON.parse(Mc(e[1])),signature:Fy(e[2]),raw:{header:e[0],payload:e[1]}}}async function Ky(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Qy(t,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Yy(t){return("0"+t.toString(16)).substr(-2)}function Gy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let i=0;i<56;i++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,Yy).join("")}async function Jy(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Xy(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await Jy(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Pr(t,e,r=!1){const n=Gy();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Ar(t,`${e}-code-verifier`,s);const i=await Xy(n);return[i,n===i?"plain":"s256"]}const Zy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ew(t){const e=t.headers.get(Va);if(!e||!e.match(Zy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function tw(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rw(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const nw=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Tr(t){if(!nw.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Do(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Uc(t){return JSON.parse(JSON.stringify(t))}var sw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};const ur=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),iw=[502,503,504];async function Fc(t){var e;if(!qy(t))throw new Ha(ur(t),0);if(iw.includes(t.status))throw new Ha(ur(t),t.status);let r;try{r=await t.json()}catch(i){throw new Vh(ur(i),i)}let n;const s=ew(t);if(s&&s.getTime()>=Bh["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ac(ur(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Rt}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ac(ur(r),t.status,r.weak_password.reasons);throw new Ry(ur(r),t.status||500,n)}const ow=(t,e,r,n)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function D(t,e,r,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Va]||(i[Va]=Bh["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await aw(t,e,r+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function aw(t,e,r,n,s,i){const o=ow(e,n,s,i);let a;try{a=await t(r,Object.assign({},o))}catch(l){throw console.error(l),new Ha(ur(l),0)}if(a.ok||await Fc(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Fc(l)}}function pt(t){var e;let r=null;dw(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=By(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function zc(t){const e=pt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Dt(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function lw(t){return{data:t,error:null}}function uw(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=t,o=sw(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function cw(t){return t}function dw(t){return t.access_token&&t.refresh_token&&t.expires_in}const Mo=["global","local","others"];var fw=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(t);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(t,n[s])&&(r[n[s]]=t[n[s]]);return r};class hw{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Kh(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,r=Mo[0]){if(Mo.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mo.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Dt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=fw(e,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:uw,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(I(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Dt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},f=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:cw});if(f.error)throw f.error;const d=await f.json(),m=(o=f.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=f.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const x=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(y.split(";")[1].split("=")[1]);c[`${w}Page`]=x}),c.total=parseInt(m)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(I(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Tr(e);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Dt})}catch(r){if(I(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Tr(e);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Dt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Tr(e);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Dt})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Tr(e.userId);try{const{data:r,error:n}=await D(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(I(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Tr(e.userId),Tr(e.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}}function Wc(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}function pw(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Or={debug:!!(globalThis&&qh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Qh extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class mw extends Qh{}async function gw(t,e,r){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),Or.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await r()}finally{Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Or.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new mw(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Or.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}pw();const vw={url:Ny,storageKey:Cy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Py,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Bc(t,e,r){return await r()}const Rr={};class fs{constructor(e){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=fs.nextInstanceID,fs.nextInstanceID+=1,this.instanceID>0&&Ge()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},vw),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new hw({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Kh(s.fetch),this.lock=s.lock||Bc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ge()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=gw:this.lock=Bc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:qh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Wc(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Wc(this.memoryStorage)),Ge()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,r;return(r=(e=Rr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Rr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Rr[this.storageKey]=Object.assign(Object.assign({},Rr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wh}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const r=Hy(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Ge()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(r,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ay(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return I(r)?{error:r}:{error:new Vh("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,s;try{const i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:pt}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var r,n,s;try{let i;if("email"in e){const{email:f,password:d,options:m}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await Pr(this.storage,this.storageKey)),i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:m==null?void 0:m.emailRedirectTo,body:{email:f,password:d,data:(r=m==null?void 0:m.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},xform:pt})}else if("phone"in e){const{phone:f,password:d,options:m}=e;i=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:d,data:(n=m==null?void 0:m.data)!==null&&n!==void 0?n:{},channel:(s=m==null?void 0:m.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:pt})}else throw new Bs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(I(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let r;if("email"in e){const{email:i,password:o,options:a}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zc})}else if("phone"in e){const{phone:i,password:o,options:a}=e;r=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:zc})}else throw new Bs("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ws}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(e){var r,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;if(r==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(e){var r,n,s,i,o,a,l,c,f,d,m,v;let y,x;if("message"in e)y=e.message,x=e.signature;else{const{chain:w,wallet:g,statement:h,options:p}=e;let _;if(Ge())if(typeof g=="object")_=g;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))_=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=g}const j=new URL((r=p==null?void 0:p.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in _&&_.signIn){const N=await _.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),h?{statement:h}:null));let C;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")C=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)C=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)y=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),x=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in _)||typeof _.signMessage!="function"||!("publicKey"in _)||typeof _!="object"||!_.publicKey||!("toBase58"in _.publicKey)||typeof _.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${j.host} wants you to sign in with your Solana account:`,_.publicKey.toBase58(),...h?["",h,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=p==null?void 0:p.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((d=(f=p==null?void 0:p.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||d===void 0)&&d.length?["Resources",...p.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const N=await _.signMessage(new TextEncoder().encode(y),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=N}}try{const{data:w,error:g}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Wy(x)},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:pt});if(g)throw g;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new Ws}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:g})}catch(w){if(I(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(e){const r=await or(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:i,error:o}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:pt});if(await Tt(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ws}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(I(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:r,provider:n,token:s,access_token:i,nonce:o}=e,a=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:pt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ws}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(e){var r,n,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,f=null;this.flowType==="pkce"&&([c,f]=await Pr(this.storage,this.storageKey));const{error:d}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:d}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:f}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:f}}throw new Bs("You must provide either an email or phone number.")}catch(a){if(I(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var r,n;try{let s,i;"options"in e&&(s=(r=e.options)===null||r===void 0?void 0:r.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:pt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(I(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var r,n,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Pr(this.storage,this.storageKey)),await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:lw})}catch(i){if(I(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Rt;const{error:s}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(I(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:o}=await D(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:o,error:a}=await D(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Bs("You must provide either an email or phone number and a type")}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await or(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Lo:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const o=await or(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Do()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,f)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,f))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Dt}):await this._useSession(async r=>{var n,s,i;const{data:o,error:a}=r;if(a)throw a;return!(!((n=o.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Rt}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Dt})})}catch(r){if(I(r))return Ly(r)&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new Rt;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await Pr(this.storage,this.storageKey));const{data:c,error:f}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Dt});if(f)throw f;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(I(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Rt;const r=Date.now()/1e3;let n=r,s=!0,i=null;const{payload:o}=Io(e.access_token);if(o.exp&&(n=o.exp,s=n<=r),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(r){if(I(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:o,error:a}=r;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Rt;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(I(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(e,r){try{if(!Ge())throw new Vs("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Vs(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Lc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vs("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Lc("No code detected.");const{data:h,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const _=new URL(window.location.href);return _.searchParams.delete("code"),window.history.replaceState(window.history.state,"",_.toString()),{data:{session:h.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new Vs("No session defined in URL");const f=Math.round(Date.now()/1e3),d=parseInt(a);let m=f+d;l&&(m=parseInt(l));const v=m-f;v*1e3<=Lr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${d}s`);const y=m-d;f-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,m,f):f-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,m,f);const{data:x,error:w}=await this._getUser(i);if(w)throw w;const g={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:d,expires_at:m,refresh_token:o,token_type:c,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(n){if(I(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await or(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{error:i};const o=(n=s.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!($y(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Tt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const r=Vy(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,s;try{const{data:{session:i},error:o}=r;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Pr(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(i){if(I(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(r){if(I(r))return{data:null,error:r};throw r}}async linkIdentity(e){var r;try{const{data:n,error:s}=await this._useSession(async i=>{var o,a,l,c,f;const{data:d,error:m}=i;if(m)throw m;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&f!==void 0?f:void 0})});if(s)throw s;return Ge()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(I(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)throw o;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Qy(async s=>(s>0&&await Ky(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:pt})),(s,i)=>{const o=200*Math.pow(2,s);return i&&Ao(i)&&Date.now()+o-n<Lr})}catch(n){if(this._debug(r,"error",n),I(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Ge()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await or(this.storage,this.storageKey);if(s&&this.userStorage){let o=await or(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Ar(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Do()}else if(s&&!s.user&&!s.user){const o=await or(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Tt(this.storage,this.storageKey+"-user"),await Ar(this.storage,this.storageKey,s)):s.user=Do()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const i=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Lo;if(this._debug(n,`session has${i?"":" not"} expired with margin of ${Lo}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),Ao(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:a}=await this._getUser(s.access_token);!a&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(n,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new eo;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Rt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),I(i)){const o={session:null,error:i};return Ao(i)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,r,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,r)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Ar(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const i=Uc(s);await Ar(this.storage,this.storageKey,i)}else{const s=Uc(r);await Ar(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Tt(this.storage,this.storageKey),await Tt(this.storage,this.storageKey+"-code-verifier"),await Tt(this.storage,this.storageKey+"-user"),this.userStorage&&await Tt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ge()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Lr);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Lr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Lr}ms, refresh threshold is ${Ba} ticks`),s<=Ba&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Qh)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ge()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,o]=await Pr(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,s;const{data:i,error:o}=r;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await D(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(r){if(I(r))return{data:null,error:r};throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;if(i)return{data:null,error:i};const{data:o,error:a}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:i}=r;return i?{data:null,error:i}:await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(I(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){const{data:{user:e},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(e==null?void 0:e.factors)||[],s=n.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=n.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var r,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Io(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(d=>d.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const f=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:f},error:null}}))}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(a=>a.kid===e);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Oy>s)return n;const{data:i,error:o}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,n=i.keys.find(a=>a.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};n=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Io(n);r!=null&&r.allowExpired||tw(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!c){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const f=rw(s.alg),d=await crypto.subtle.importKey("jwk",c,f,!0,["verify"]);if(!await crypto.subtle.verify(f,d,o,zy(`${a}.${l}`)))throw new qa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(n){if(I(n))return{data:null,error:n};throw n}}}fs.nextInstanceID=0;const yw=fs;class ww extends yw{constructor(e){super(e)}}var xw=function(t,e,r,n){function s(i){return i instanceof r?i:new r(function(o){o(i)})}return new(r||(r=Promise))(function(i,o){function a(f){try{c(n.next(f))}catch(d){o(d)}}function l(f){try{c(n.throw(f))}catch(d){o(d)}}function c(f){f.done?i(f.value):s(f.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class _w{constructor(e,r,n){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=r,!e)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const a=jy(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,f={db:vy,realtime:wy,auth:Object.assign(Object.assign({},yy),{storageKey:c}),global:gy},d=Ey(n??{},f);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=ky(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new D0(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new hy(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new m0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,r;return xw(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,f){const d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new ww({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),c),storageKey:i,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:s,flowType:o,lock:a,debug:l,fetch:f,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new ey(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bw=(t,e,r)=>new _w(t,e,r);function kw(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}kw()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Sw="https://htgcxuxigtjwvqcekizs.supabase.co",jw="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh0Z2N4dXhpZ3Rqd3ZxY2VraXpzIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU3MTczMDgsImV4cCI6MjA3MTI5MzMwOH0.8bvZNTlqTte8agrT9JPz0qXFbfznqxvBhdW1A8wUMOA",W=bw(Sw,jw),ft=u0(t=>({session:null,profile:null,isAdmin:!1,setSession:e=>t({session:e}),setProfile:e=>t({profile:e,isAdmin:(e==null?void 0:e.role)==="admin"}),signOut:async()=>{await W.auth.signOut(),t({session:null,profile:null,isAdmin:!1})}}));/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Ew={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),G=(t,e)=>{const r=b.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:a="",children:l,...c},f)=>b.createElement("svg",{ref:f,...Ew,width:s,height:s,stroke:n,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Nw(t)}`,a].join(" "),...c},[...e.map(([d,m])=>b.createElement(d,m)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=G("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=G("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cw=G("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=G("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=G("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const to=G("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=G("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zl=G("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ti=G("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=G("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yh=G("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=G("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=G("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=G("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=G("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=G("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uo=G("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eu=G("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jh=G("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=G("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=G("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=G("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=G("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mw=G("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=G("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function Uw(){const t=mn(),e=xs(),{profile:r,isAdmin:n,signOut:s}=ft(),i=async()=>{await s(),e("/login")},o=[{path:"/dashboard",icon:$w,label:"Dashboard"},{path:"/vehicles",icon:to,label:"Vehicles"},{path:"/work-orders",icon:Zl,label:"Work Orders"},...n?[{path:"/settings",icon:Jh,label:"Settings"}]:[]];return u.jsxs("div",{className:"min-h-screen bg-gray-100",children:[u.jsx("nav",{className:"bg-blue-800 text-white",children:u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"flex items-center justify-between h-16",children:[u.jsx("div",{className:"flex items-center",children:u.jsx("span",{className:"text-xl font-bold",children:"PAPD Fleet Management"})}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("span",{children:r==null?void 0:r.full_name}),u.jsx("button",{onClick:i,className:"p-2 rounded-full hover:bg-blue-700",children:u.jsx(Lw,{size:20})})]})]})})}),u.jsxs("div",{className:"flex",children:[u.jsx("aside",{className:"w-64 bg-white h-[calc(100vh-4rem)] shadow-md",children:u.jsx("nav",{className:"mt-5 px-2",children:o.map(a=>{const l=a.icon,c=t.pathname===a.path;return u.jsxs(Av,{to:a.path,className:`
                        flex items-center px-4 py-2 mt-2 text-gray-600 rounded-lg
                        ${c?"bg-blue-100 text-blue-800":"hover:bg-gray-100"}
                      `,children:[u.jsx(l,{size:20,className:"mr-3"}),a.label]},a.path)})})}),u.jsx("main",{className:"flex-1 p-8",children:u.jsx(kv,{})})]})]})}function Fw(){const t=xs(),{setSession:e}=ft(),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,a]=b.useState(""),[l,c]=b.useState(!1),f=async d=>{d.preventDefault(),a(""),c(!0);try{const{data:m,error:v}=await W.auth.signInWithPassword({email:r,password:s});if(v)throw v;e(m.session),t("/dashboard")}catch{a("Invalid email or password")}finally{c(!1)}};return u.jsx("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:u.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-8",children:[u.jsxs("div",{className:"flex flex-col items-center mb-8",children:[u.jsx(Aw,{className:"w-12 h-12 text-blue-800 mb-2"}),u.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"PAPD Fleet Management"})]}),o&&u.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),u.jsxs("form",{onSubmit:f,children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Email"}),u.jsx("input",{type:"email",value:r,onChange:d=>n(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsxs("div",{className:"mb-6",children:[u.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Password"}),u.jsx("input",{type:"password",value:s,onChange:d=>i(d.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),u.jsx("button",{type:"submit",disabled:l,className:`
              w-full bg-blue-800 text-white font-bold py-2 px-4 rounded
              ${l?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}
            `,children:l?"Signing in...":"Sign In"})]})]})})}function zw(){const[t,e]=b.useState(null),[r,n]=b.useState(!0),[s,i]=b.useState(null);b.useEffect(()=>{o()},[]);async function o(){try{const{data:c,error:f}=await W.from("vehicles").select("status").order("created_at",{ascending:!1});if(f)throw f;const{data:d,error:m}=await W.from("work_orders").select(`
          id,
          status,
          priority,
          description,
          created_at,
          vehicle:vehicles(unit_number)
        `).order("created_at",{ascending:!1});if(m)throw m;const v=(c==null?void 0:c.length)||0,y=(c==null?void 0:c.filter(h=>h.status==="available").length)||0,x=(c==null?void 0:c.filter(h=>h.status==="out_of_service").length)||0,w=d==null?void 0:d.reduce((h,p)=>(h[p.status]=(h[p.status]||0)+1,h),{}),g=d==null?void 0:d.reduce((h,p)=>(h[p.priority]=(h[p.priority]||0)+1,h),{});e({totalVehicles:v,availableVehicles:y,outOfServiceVehicles:x,totalWorkOrders:(d==null?void 0:d.length)||0,pendingWorkOrders:(d==null?void 0:d.filter(h=>h.status==="pending").length)||0,completedWorkOrders:(d==null?void 0:d.filter(h=>h.status==="completed").length)||0,urgentWorkOrders:(d==null?void 0:d.filter(h=>h.priority==="urgent").length)||0,recentWorkOrders:(d==null?void 0:d.slice(0,5))||[],statusBreakdown:Object.entries(w).map(([h,p])=>({status:h,count:p})),priorityBreakdown:Object.entries(g).map(([h,p])=>({priority:h,count:p}))})}catch(c){i("Failed to fetch dashboard statistics"),console.error("Error:",c)}finally{n(!1)}}const a=c=>{switch(c){case"pending":return"text-yellow-500";case"in_progress":return"text-blue-500";case"completed":return"text-green-500";case"cancelled":return"text-gray-500";default:return"text-gray-500"}},l=c=>{switch(c){case"pending":return u.jsx(Ti,{className:"w-4 h-4"});case"in_progress":return u.jsx(Ka,{className:"w-4 h-4"});case"completed":return u.jsx(hs,{className:"w-4 h-4"});case"cancelled":return u.jsx(jt,{className:"w-4 h-4"});default:return null}};return r?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-800"})}):s?u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(jt,{className:"h-5 w-5 text-red-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:s})})]})}):t?u.jsxs("div",{className:"space-y-6",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Vehicles"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.totalVehicles})]}),u.jsx(to,{className:"w-8 h-8 text-blue-800"})]}),u.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[u.jsxs("span",{className:"text-green-600 flex items-center",children:[u.jsx(Pw,{className:"w-4 h-4 mr-1"}),t.availableVehicles," Available"]}),u.jsxs("span",{className:"text-red-600 flex items-center",children:[u.jsx(Cw,{className:"w-4 h-4 mr-1"}),t.outOfServiceVehicles," Out of Service"]})]})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Work Orders"}),u.jsx("p",{className:"text-2xl font-semibold text-gray-900",children:t.totalWorkOrders})]}),u.jsx(Mw,{className:"w-8 h-8 text-blue-800"})]}),u.jsxs("div",{className:"mt-4 flex items-center justify-between text-sm",children:[u.jsxs("span",{className:"text-yellow-600 flex items-center",children:[u.jsx(Ti,{className:"w-4 h-4 mr-1"}),t.pendingWorkOrders," Pending"]}),u.jsxs("span",{className:"text-green-600 flex items-center",children:[u.jsx(hs,{className:"w-4 h-4 mr-1"}),t.completedWorkOrders," Completed"]})]})]}),u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Status Breakdown"}),u.jsx("div",{className:"space-y-2 mt-4",children:t.statusBreakdown.map(({status:c,count:f})=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("span",{className:"flex items-center text-sm capitalize",children:[l(c),u.jsx("span",{className:`ml-2 ${a(c)}`,children:c.replace(/_/g," ")})]}),u.jsx("span",{className:"font-medium",children:f})]},c))})]}),u.jsx(Tw,{className:"w-8 h-8 text-blue-800"})]})}),u.jsx("div",{className:"bg-white rounded-lg shadow p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Priority Breakdown"}),u.jsx("div",{className:"space-y-2 mt-4",children:t.priorityBreakdown.map(({priority:c,count:f})=>u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("span",{className:"text-sm capitalize",children:c}),u.jsx("span",{className:"font-medium",children:f})]},c))})]}),u.jsx(Ka,{className:"w-8 h-8 text-blue-800"})]})})]}),u.jsxs("div",{className:"bg-white rounded-lg shadow",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsx("h2",{className:"text-lg font-semibold text-gray-900",children:"Recent Work Orders"})}),u.jsx("div",{className:"divide-y",children:t.recentWorkOrders.map(c=>u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("span",{className:"font-medium",children:["Unit #",c.vehicle.unit_number]}),u.jsxs("span",{className:`flex items-center text-sm ${a(c.status)}`,children:[l(c.status),u.jsx("span",{className:"ml-1 capitalize",children:c.status.replace(/_/g," ")})]}),u.jsx("span",{className:"text-sm text-gray-500",children:new Date(c.created_at).toLocaleDateString()})]}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:c.description})]}),u.jsx("span",{className:`
                  px-2 py-1 text-xs font-medium rounded-full capitalize
                  ${c.priority==="urgent"?"bg-red-100 text-red-800":c.priority==="high"?"bg-orange-100 text-orange-800":c.priority==="normal"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}
                `,children:c.priority})]})},c.id))})]})]}):null}function Ww({isOpen:t,onClose:e,vehicleId:r,unitNumber:n,currentLocation:s}){const{session:i,user:o}=ft(),[a,l]=b.useState({description:"",priority:"normal",location:s,mileage:"",notes:""}),[c,f]=b.useState(!1),[d,m]=b.useState(null),v=async y=>{var x;y.preventDefault(),f(!0),m(null);try{if(!((x=i==null?void 0:i.user)!=null&&x.id)||!o){m("User not authenticated.");return}const{data:w,error:g}=await W.from("work_orders").select("work_order_number").order("work_order_number",{ascending:!1}).limit(1);if(g)throw g;const p=(w&&w.length>0?w[0].work_order_number:0)+1,{error:_}=await W.from("work_orders").insert([{vehicle_id:r,unit_number:n,description:a.description,priority:a.priority,location:a.location,created_by:o.name||i.user.email,mileage:parseInt(a.mileage)||0,work_order_number:p,notes:a.notes}]);if(_)throw _;e()}catch(w){m("Failed to create work order. Please try again."),console.error("Error:",w)}finally{f(!1)}};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Create Work Order - Unit #",n]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:u.jsx(Mt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:v,className:"p-6 space-y-6",children:[d&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsx("p",{className:"text-sm text-red-700",children:d})}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description of Issue"}),u.jsx("textarea",{required:!0,value:a.description,onChange:y=>l({...a,description:y.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Describe the issue that needs attention..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Additional Notes"}),u.jsx("textarea",{value:a.notes,onChange:y=>l({...a,notes:y.target.value}),rows:2,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Any additional information or comments..."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Priority"}),u.jsxs("select",{value:a.priority,onChange:y=>l({...a,priority:y.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"low",children:"Low"}),u.jsx("option",{value:"normal",children:"Normal"}),u.jsx("option",{value:"high",children:"High"}),u.jsx("option",{value:"urgent",children:"Urgent"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Location"}),u.jsx("input",{type:"text",required:!0,value:a.location,onChange:y=>l({...a,location:y.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Where is the vehicle located?"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Mileage"}),u.jsx("input",{type:"number",required:!0,value:a.mileage,onChange:y=>l({...a,mileage:y.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Enter the current mileage"})]}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:c,className:`
                px-4 py-2 bg-blue-800 text-white rounded-lg
                ${c?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}
              `,children:c?"Creating...":"Create Work Order"})]})]})]})}):null}function Bw({isOpen:t,onClose:e,vehicle:r,onVehicleUpdate:n}){const[s,i]=b.useState({unit_number:"",make:"",model:"",year:new Date().getFullYear(),status:"available",assigned_to:"",current_location:"",notes:"",is_take_home:!1}),[o,a]=b.useState([]),[l,c]=b.useState(!1),[f,d]=b.useState(null),[m,v]=b.useState(!1);b.useEffect(()=>{i(r?{unit_number:r.unit_number,make:r.make,model:r.model,year:r.year,status:r.status,assigned_to:r.assigned_to||"",current_location:r.current_location||"",notes:r.notes||"",is_take_home:r.is_take_home}:{unit_number:"",make:"",model:"",year:new Date().getFullYear(),status:"available",assigned_to:"",current_location:"",notes:"",is_take_home:!1})},[r]),b.useEffect(()=>{y()},[]);async function y(){try{const{data:w,error:g}=await W.from("profiles").select("id, full_name, badge_number").order("full_name");if(g)throw g;a(w||[])}catch(w){console.error("Error fetching officers:",w)}}const x=async w=>{w.preventDefault(),c(!0),d(null);try{const g={...s,assigned_to:s.status==="assigned"?s.assigned_to:null,current_location:s.status==="out_of_service"?s.current_location:null,notes:["out_of_service","assigned"].includes(s.status)?s.notes:null,is_take_home:s.is_take_home};if(r){const{error:h}=await W.from("vehicles").update({status:g.status,assigned_to:g.assigned_to,current_location:g.current_location,notes:g.notes,is_take_home:g.is_take_home}).eq("id",r.id);if(h)throw h;if(r.status!==s.status){const{error:p}=await W.rpc("update_vehicle_status",{vehicle_id:r.id,new_status:s.status,notes:s.notes});if(p)throw p;s.status==="out_of_service"&&v(!0)}}else{const{data:h,error:p}=await W.from("vehicles").insert([g]).select().single();if(p)throw p;if(h){const{error:_}=await W.rpc("update_vehicle_status",{vehicle_id:h.id,new_status:s.status,notes:s.notes});if(_)throw _;s.status==="out_of_service"&&v(!0)}}n(),s.status!=="out_of_service"&&e()}catch(g){d("Failed to save vehicle. Please try again."),console.error("Error saving vehicle:",g)}finally{c(!1)}};return t?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-2xl mx-4",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:r?"Edit Vehicle":"Add New Vehicle"}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:u.jsx(Mt,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:x,className:"p-6 space-y-6",children:[f&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsx("p",{className:"text-sm text-red-700",children:f})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Unit Number"}),u.jsx("input",{type:"text",required:!0,value:s.unit_number,onChange:w=>i({...s,unit_number:w.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!!r})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Make"}),u.jsx("input",{type:"text",required:!0,value:s.make,onChange:w=>i({...s,make:w.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!!r})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Model"}),u.jsx("input",{type:"text",required:!0,value:s.model,onChange:w=>i({...s,model:w.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!!r})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),u.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:s.year,onChange:w=>i({...s,year:parseInt(w.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",disabled:!!r})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),u.jsxs("select",{value:s.status,onChange:w=>i({...s,status:w.target.value,assigned_to:w.target.value!=="assigned"?"":s.assigned_to,current_location:w.target.value!=="out_of_service"?"":s.current_location,notes:["available"].includes(w.target.value)?"":s.notes}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"available",children:"Available"}),u.jsx("option",{value:"assigned",children:"Assigned"}),u.jsx("option",{value:"out_of_service",children:"Out of Service"})]})]}),s.status==="assigned"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Assign To"}),u.jsxs("select",{value:s.assigned_to,onChange:w=>i({...s,assigned_to:w.target.value}),required:s.status==="assigned",className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"",children:"Select Officer"}),o.map(w=>u.jsxs("option",{value:w.id,children:[w.full_name," ",w.badge_number?`(#${w.badge_number})`:""]},w.id))]})]})]}),s.status==="out_of_service"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Current Location"}),u.jsx("input",{type:"text",required:s.status==="out_of_service",value:s.current_location,onChange:w=>i({...s,current_location:w.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"e.g., Maintenance Shop, Body Shop, etc."})]}),["assigned","out_of_service"].includes(s.status)&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes"}),u.jsx("textarea",{value:s.notes,onChange:w=>i({...s,notes:w.target.value}),rows:3,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:s.status==="out_of_service"?"Describe the issue or reason for being out of service":"Any additional notes about the assignment"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Take Home Unit?"}),u.jsx("input",{type:"checkbox",checked:s.is_take_home,onChange:w=>i({...s,is_take_home:w.target.checked}),className:"h-5 w-5 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"})]}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4 border-t",children:[u.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),u.jsx("button",{type:"submit",disabled:l,className:`
                  px-4 py-2 bg-blue-800 text-white rounded-lg
                  ${l?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}
                `,children:l?"Saving...":r?"Update Vehicle":"Add Vehicle"})]})]})]})}),m&&r&&u.jsx(Ww,{isOpen:m,onClose:()=>{v(!1),e()},vehicleId:r.id,unitNumber:r.unit_number,currentLocation:s.current_location})]}):null}function st(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function br(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const Zh=6048e5,Vw=864e5;let Hw={};function ro(){return Hw}function ps(t,e){var a,l,c,f;const r=ro(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=st(t),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Oi(t){return ps(t,{weekStartsOn:1})}function ep(t){const e=st(t),r=e.getFullYear(),n=br(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const s=Oi(n),i=br(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=Oi(i);return e.getTime()>=s.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function Hc(t){const e=st(t);return e.setHours(0,0,0,0),e}function qc(t){const e=st(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function qw(t,e){const r=Hc(t),n=Hc(e),s=+r-qc(r),i=+n-qc(n);return Math.round((s-i)/Vw)}function Kw(t){const e=ep(t),r=br(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Oi(r)}function Qw(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Yw(t){if(!Qw(t)&&typeof t!="number")return!1;const e=st(t);return!isNaN(Number(e))}function Gw(t){const e=st(t),r=br(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Jw={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xw=(t,e,r)=>{let n;const s=Jw[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Fo(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Zw={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ex={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tx={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},rx={date:Fo({formats:Zw,defaultWidth:"full"}),time:Fo({formats:ex,defaultWidth:"full"}),dateTime:Fo({formats:tx,defaultWidth:"full"})},nx={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},sx=(t,e,r,n)=>nx[t];function Cn(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const ix={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ox={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ax={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lx={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ux={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cx={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dx=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},fx={ordinalNumber:dx,era:Cn({values:ix,defaultWidth:"wide"}),quarter:Cn({values:ox,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Cn({values:ax,defaultWidth:"wide"}),day:Cn({values:lx,defaultWidth:"wide"}),dayPeriod:Cn({values:ux,defaultWidth:"wide",formattingValues:cx,defaultFormattingWidth:"wide"})};function Pn(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?px(a,d=>d.test(o)):hx(a,d=>d.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const f=e.slice(o.length);return{value:c,rest:f}}}function hx(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function px(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function mx(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const gx=/^(\d+)(th|st|nd|rd)?/i,vx=/\d+/i,yx={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},wx={any:[/^b/i,/^(a|c)/i]},xx={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_x={any:[/1/i,/2/i,/3/i,/4/i]},bx={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},kx={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sx={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},jx={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ex={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Nx={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cx={ordinalNumber:mx({matchPattern:gx,parsePattern:vx,valueCallback:t=>parseInt(t,10)}),era:Pn({matchPatterns:yx,defaultMatchWidth:"wide",parsePatterns:wx,defaultParseWidth:"any"}),quarter:Pn({matchPatterns:xx,defaultMatchWidth:"wide",parsePatterns:_x,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Pn({matchPatterns:bx,defaultMatchWidth:"wide",parsePatterns:kx,defaultParseWidth:"any"}),day:Pn({matchPatterns:Sx,defaultMatchWidth:"wide",parsePatterns:jx,defaultParseWidth:"any"}),dayPeriod:Pn({matchPatterns:Ex,defaultMatchWidth:"any",parsePatterns:Nx,defaultParseWidth:"any"})},Px={code:"en-US",formatDistance:Xw,formatLong:rx,formatRelative:sx,localize:fx,match:Cx,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Tx(t){const e=st(t);return qw(e,Gw(e))+1}function Ox(t){const e=st(t),r=+Oi(e)-+Kw(e);return Math.round(r/Zh)+1}function tp(t,e){var f,d,m,v;const r=st(t),n=r.getFullYear(),s=ro(),i=(e==null?void 0:e.firstWeekContainsDate)??((d=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??s.firstWeekContainsDate??((v=(m=s.locale)==null?void 0:m.options)==null?void 0:v.firstWeekContainsDate)??1,o=br(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const a=ps(o,e),l=br(t,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const c=ps(l,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Rx(t,e){var a,l,c,f;const r=ro(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(c=r.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=tp(t,e),i=br(t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),ps(i,e)}function $x(t,e){const r=st(t),n=+ps(r,e)-+Rx(r,e);return Math.round(n/Zh)+1}function B(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ot={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return B(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):B(r+1,2)},d(t,e){return B(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return B(t.getHours()%12||12,e.length)},H(t,e){return B(t.getHours(),e.length)},m(t,e){return B(t.getMinutes(),e.length)},s(t,e){return B(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return B(s,e.length)}},$r={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Kc={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Ot.y(t,e)},Y:function(t,e,r,n){const s=tp(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return B(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):B(i,e.length)},R:function(t,e){const r=ep(t);return B(r,e.length)},u:function(t,e){const r=t.getFullYear();return B(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return B(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return B(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ot.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return B(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=$x(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):B(s,e.length)},I:function(t,e,r){const n=Ox(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):B(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ot.d(t,e)},D:function(t,e,r){const n=Tx(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):B(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return B(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return B(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return B(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=$r.noon:n===0?s=$r.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=$r.evening:n>=12?s=$r.afternoon:n>=4?s=$r.morning:s=$r.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ot.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ot.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):B(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):B(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ot.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ot.s(t,e)},S:function(t,e){return Ot.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Yc(n);case"XXXX":case"XX":return cr(n);case"XXXXX":case"XXX":default:return cr(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return Yc(n);case"xxxx":case"xx":return cr(n);case"xxxxx":case"xxx":default:return cr(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Qc(n,":");case"OOOO":default:return"GMT"+cr(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Qc(n,":");case"zzzz":default:return"GMT"+cr(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return B(n,e.length)},T:function(t,e,r){const n=t.getTime();return B(n,e.length)}};function Qc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+B(i,2)}function Yc(t,e){return t%60===0?(t>0?"-":"+")+B(Math.abs(t)/60,2):cr(t,e)}function cr(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=B(Math.trunc(n/60),2),i=B(n%60,2);return r+s+e+i}const Gc=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rp=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Lx=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Gc(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Gc(n,e)).replace("{{time}}",rp(s,e))},Ax={p:rp,P:Lx},Ix=/^D+$/,Dx=/^Y+$/,Mx=["D","DD","YY","YYYY"];function Ux(t){return Ix.test(t)}function Fx(t){return Dx.test(t)}function zx(t,e,r){const n=Wx(t,e,r);if(console.warn(n),Mx.includes(t))throw new RangeError(n)}function Wx(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bx=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Vx=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Hx=/^'([^]*?)'?$/,qx=/''/g,Kx=/[a-zA-Z]/;function Qx(t,e,r){var f,d,m,v;const n=ro(),s=n.locale??Px,i=n.firstWeekContainsDate??((d=(f=n.locale)==null?void 0:f.options)==null?void 0:d.firstWeekContainsDate)??1,o=n.weekStartsOn??((v=(m=n.locale)==null?void 0:m.options)==null?void 0:v.weekStartsOn)??0,a=st(t);if(!Yw(a))throw new RangeError("Invalid time value");let l=e.match(Vx).map(y=>{const x=y[0];if(x==="p"||x==="P"){const w=Ax[x];return w(y,s.formatLong)}return y}).join("").match(Bx).map(y=>{if(y==="''")return{isToken:!1,value:"'"};const x=y[0];if(x==="'")return{isToken:!1,value:Yx(y)};if(Kc[x])return{isToken:!0,value:y};if(x.match(Kx))throw new RangeError("Format string contains an unescaped latin alphabet character `"+x+"`");return{isToken:!1,value:y}});s.localize.preprocessor&&(l=s.localize.preprocessor(a,l));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return l.map(y=>{if(!y.isToken)return y.value;const x=y.value;(Fx(x)||Ux(x))&&zx(x,e,String(t));const w=Kc[x[0]];return w(a,x,s.localize,c)}).join("")}function Yx(t){const e=t.match(Hx);return e?e[1].replace(qx,"'"):t}function Gx({isOpen:t,onClose:e,vehicleId:r,unitNumber:n}){const[s,i]=Ir.useState([]),[o,a]=Ir.useState(!0),[l,c]=Ir.useState(null);Ir.useEffect(()=>{t&&f()},[t,r]);const f=async()=>{try{const{data:v,error:y}=await W.from("vehicle_status_history").select(`
          *,
          changed_by:profiles(full_name, badge_number)
        `).eq("vehicle_id",r).order("created_at",{ascending:!1});if(y)throw y;i(v||[])}catch(v){c("Failed to load vehicle history"),console.error("Error:",v)}finally{a(!1)}},d=v=>{switch(v){case"available":return u.jsx(hs,{className:"w-4 h-4 text-green-600"});case"assigned":return u.jsx(Xh,{className:"w-4 h-4 text-blue-600"});case"out_of_service":return u.jsx(jt,{className:"w-4 h-4 text-red-600"});default:return null}},m=v=>{switch(v){case"available":return"text-green-600";case"assigned":return"text-blue-600";case"out_of_service":return"text-red-600";default:return"text-gray-600"}};return t?u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-3xl mx-4 max-h-[80vh] flex flex-col",children:[u.jsxs("div",{className:"flex justify-between items-center p-6 border-b",children:[u.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Status History - Unit #",n]}),u.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-500",children:u.jsx(Mt,{className:"w-5 h-5"})})]}),u.jsx("div",{className:"flex-1 overflow-y-auto p-6",children:o?u.jsx("div",{className:"flex justify-center items-center h-32",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-800"})}):l?u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsx("p",{className:"text-sm text-red-700",children:l})}):s.length===0?u.jsxs("div",{className:"text-center py-8",children:[u.jsx(Ti,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No history found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"This vehicle has no recorded status changes."})]}):u.jsx("div",{className:"space-y-6",children:s.map(v=>u.jsxs("div",{className:"border-l-2 border-gray-200 pl-4",children:[u.jsx("div",{className:"flex items-start justify-between",children:u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("span",{className:"text-sm text-gray-500",children:Qx(new Date(v.created_at),"MMM d, yyyy h:mm a")}),u.jsxs("span",{className:"text-sm text-gray-600",children:["by ",v.changed_by.full_name,v.changed_by.badge_number&&` (#${v.changed_by.badge_number})`]})]}),u.jsxs("div",{className:"mt-2 flex items-center gap-3",children:[u.jsxs("div",{className:"flex items-center",children:[d(v.previous_status),u.jsx("span",{className:`ml-1 capitalize ${m(v.previous_status)}`,children:v.previous_status.replace(/_/g," ")})]}),u.jsx("span",{className:"text-gray-400",children:"→"}),u.jsxs("div",{className:"flex items-center",children:[d(v.new_status),u.jsx("span",{className:`ml-1 capitalize ${m(v.new_status)}`,children:v.new_status.replace(/_/g," ")})]})]})]})}),v.notes&&u.jsx("p",{className:"mt-2 text-sm text-gray-600",children:v.notes})]},v.id))})})]})}):null}function Jx(){const{isAdmin:t}=ft(),[e,r]=b.useState([]),[n,s]=b.useState(!0),[i,o]=b.useState(null),[a,l]=b.useState("all"),[c,f]=b.useState(""),[d,m]=b.useState(!1),[v,y]=b.useState(void 0),[x,w]=b.useState(!1),[g,h]=b.useState(null),[p,_]=b.useState(!1);b.useEffect(()=>{j()},[]);async function j(){try{const{data:P,error:ce}=await W.from("vehicles").select(`
          *,
          profile:profiles(full_name, badge_number)
        `).order("unit_number");if(ce)throw ce;r(P||[])}catch(P){o("Failed to fetch vehicles"),console.error("Error:",P)}finally{s(!1)}}const N=()=>{y(void 0),m(!0)},C=P=>{y(P),m(!0)},R=P=>{h({id:P.id,unitNumber:P.unit_number}),w(!0)},U=e.filter(P=>{var it,Ke;const ce=a==="all"||P.status===a;let He=!0;a==="available"&&p===!1&&(He=!P.is_take_home);const qe=c===""||P.unit_number.toLowerCase().includes(c.toLowerCase())||`${P.make} ${P.model}`.toLowerCase().includes(c.toLowerCase())||((it=P.current_location)==null?void 0:it.toLowerCase().includes(c.toLowerCase()))||((Ke=P.profile)==null?void 0:Ke.full_name.toLowerCase().includes(c.toLowerCase()));return ce&&qe&&He}),L=P=>{switch(P){case"available":return"bg-green-100 text-green-800";case"assigned":return"bg-blue-100 text-blue-800";case"out_of_service":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},te=P=>{switch(P){case"available":return u.jsx(hs,{className:"w-4 h-4"});case"assigned":return u.jsx(Xh,{className:"w-4 h-4"});case"out_of_service":return u.jsx(jt,{className:"w-4 h-4"});default:return null}};return n?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-800"})}):i?u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(jt,{className:"h-5 w-5 text-red-400"})}),u.jsx("div",{className:"ml-3",children:u.jsx("p",{className:"text-sm text-red-700",children:i})})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Fleet Vehicles"}),t&&u.jsxs("button",{onClick:N,className:"flex items-center px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-700",children:[u.jsx(Gh,{className:"w-4 h-4 mr-2"}),"Add Vehicle"]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(eu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search vehicles...",value:c,onChange:P=>f(P.target.value),className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Yh,{className:"text-gray-400 w-5 h-5"}),u.jsxs("select",{value:a,onChange:P=>l(P.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"available",children:"Available"}),u.jsx("option",{value:"assigned",children:"Assigned"}),u.jsx("option",{value:"out_of_service",children:"Out of Service"})]}),u.jsxs("label",{className:"inline-flex items-center",children:[u.jsx("input",{type:"checkbox",className:"form-checkbox h-5 w-5 text-blue-600",checked:p,onChange:P=>_(P.target.checked)}),u.jsx("span",{className:"ml-2 text-gray-700",children:"Take Home"})]})]})]}),u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:U.map(P=>u.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Unit #",P.unit_number]}),u.jsxs("p",{className:"text-gray-600",children:[P.year," ",P.make," ",P.model]})]}),u.jsxs("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${L(P.status)}`,children:[te(P.status),u.jsx("span",{className:"ml-2 capitalize",children:P.status.replace(/_/g," ")})]})]}),P.status==="assigned"&&P.profile&&u.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:u.jsxs("p",{className:"text-sm text-blue-800",children:[u.jsx("strong",{children:"Assigned to:"})," ",P.profile.full_name,P.profile.badge_number&&` (Badge #${P.profile.badge_number})`]})}),P.status==="out_of_service"&&u.jsxs("div",{className:"mb-4 p-3 bg-red-50 rounded-lg",children:[u.jsxs("p",{className:"text-sm text-red-800",children:[u.jsx("strong",{children:"Location:"})," ",P.current_location]}),P.notes&&u.jsxs("p",{className:"text-sm text-red-800 mt-1",children:[u.jsx("strong",{children:"Notes:"})," ",P.notes]})]}),P.is_take_home&&u.jsx("div",{className:"mb-4 p-3 bg-green-50 rounded-lg",children:u.jsx("p",{className:"text-sm text-green-800",children:u.jsx("strong",{children:"Take Home Unit"})})}),u.jsxs("div",{className:"mt-4 flex justify-end gap-4",children:[u.jsxs("button",{onClick:()=>R(P),className:"flex items-center text-gray-600 hover:text-gray-800 text-sm font-medium",children:[u.jsx(Rw,{className:"w-4 h-4 mr-1"}),"History"]}),t&&u.jsxs("button",{onClick:()=>C(P),className:"flex items-center text-blue-800 hover:text-blue-600 text-sm font-medium",children:[u.jsx(Jh,{className:"w-4 h-4 mr-1"}),"Manage"]})]})]})},P.id))}),U.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(to,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No vehicles found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:c||a!=="all"?"Try adjusting your search or filter criteria":"No vehicles have been added to the fleet yet"})]})]}),u.jsx(Bw,{isOpen:d,onClose:()=>m(!1),vehicle:v,onVehicleUpdate:j}),g&&u.jsx(Gx,{isOpen:x,onClose:()=>{w(!1),h(null)},vehicleId:g.id,unitNumber:g.unitNumber})]})}async function Xx(t){var e,r,n,s,i,o;try{console.log("🆕 Generating work order PDF for:",t.work_order_number),console.log("Complete work order data:",t);const a=(p,_="Not specified")=>p==null||p===""?_:p,l=()=>{const p=t.mileage;return!p&&p!==0?"Not specified":`${p.toLocaleString()} miles`},c=p=>{if(!p)return"Not specified";try{return new Date(p).toLocaleString()}catch{return"Invalid date"}},f=()=>{const p=t.priority;return p?p.charAt(0).toUpperCase()+p.slice(1):"Not specified"},d=((e=t.vehicle)==null?void 0:e.unit_number)||t.unit_number||"Not specified",m=((r=t.vehicle)==null?void 0:r.make)||"Not specified",v=((n=t.vehicle)==null?void 0:n.model)||"Not specified",y=((s=t.vehicle)==null?void 0:s.year)||"Not specified",x=((i=t.creator)==null?void 0:i.full_name)||t.created_by||"Not specified",w=(o=t.creator)!=null&&o.badge_number?`(Badge #${t.creator.badge_number})`:"",g=`
      <!DOCTYPE html>
      <html lang="en">
      <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Work Order ${a(t.work_order_number)}</title>
        <style>
          * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
          }
          
          body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 800px;
            margin: 0 auto;
            padding: 40px 20px;
            background: white;
          }
          
          .header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 3px solid #007bff;
            padding-bottom: 20px;
          }
          
          .title {
            font-size: 28px;
            font-weight: bold;
            color: #007bff;
            margin-bottom: 10px;
          }
          
          .subtitle {
            font-size: 16px;
            color: #666;
          }
          
          .content {
            margin-bottom: 30px;
          }
          
          .field {
            margin-bottom: 20px;
            padding: 15px;
            background: #f8f9fa;
            border-left: 4px solid #007bff;
            border-radius: 0 5px 5px 0;
          }
          
          .field-label {
            font-weight: bold;
            font-size: 14px;
            color: #495057;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
          }
          
          .field-value {
            font-size: 16px;
            color: #212529;
            word-wrap: break-word;
          }
          
          .notes {
            background: #fff3cd;
            border-left-color: #ffc107;
          }
          
          .vehicle-info {
            background: #e7f3ff;
            border-left-color: #007bff;
          }
          
          .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 1000;
          }
          
          .btn {
            padding: 12px 24px;
            margin: 0 5px;
            border: none;
            border-radius: 5px;
            font-size: 14px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
          }
          
          .btn-primary {
            background: #007bff;
            color: white;
          }
          
          .btn-primary:hover {
            background: #0056b3;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,123,255,0.3);
          }
          
          .btn-secondary {
            background: #6c757d;
            color: white;
          }
          
          .btn-secondary:hover {
            background: #545b62;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(108,117,125,0.3);
          }
          
          .footer {
            margin-top: 40px;
            text-align: center;
            color: #6c757d;
            font-size: 12px;
            border-top: 1px solid #dee2e6;
            padding-top: 20px;
          }
          
          @media print {
            body {
              margin: 0;
              padding: 20px;
            }
            
            .controls {
              display: none !important;
            }
            
            .field {
              break-inside: avoid;
              page-break-inside: avoid;
            }
            
            @page {
              margin: 0.5in;
              size: letter;
            }
          }
        </style>
      </head>
      <body>
        <div class="controls">
          <button class="btn btn-primary" onclick="window.print()">
            🖨️ Print/Save PDF
          </button>
          <button class="btn btn-secondary" onclick="window.close()">
            ✕ Close
          </button>
        </div>

        <div class="header">
          <div class="title">Work Order #${a(t.work_order_number)}</div>
          <div class="subtitle">Police Department Fleet Management</div>
        </div>

        <div class="content">
          <div class="field">
            <div class="field-label">Work Order Number</div>
            <div class="field-value">#${a(t.work_order_number)}</div>
          </div>

          <div class="field vehicle-info">
            <div class="field-label">Vehicle Information</div>
            <div class="field-value">
              <strong>Unit #${d}</strong><br>
              ${y} ${m} ${v}
            </div>
          </div>

          <div class="field">
            <div class="field-label">Description of Issue</div>
            <div class="field-value">${a(t.description)}</div>
          </div>

          ${a(t.notes)!=="Not specified"?`
          <div class="field notes">
            <div class="field-label">Additional Notes</div>
            <div class="field-value">${a(t.notes)}</div>
          </div>
          `:""}

          <div class="field">
            <div class="field-label">Priority</div>
            <div class="field-value">${f()}</div>
          </div>

          <div class="field">
            <div class="field-label">Location</div>
            <div class="field-value">${a(t.location)}</div>
          </div>

          <div class="field">
            <div class="field-label">Current Mileage</div>
            <div class="field-value">${l()}</div>
          </div>

          <div class="field">
            <div class="field-label">Created By</div>
            <div class="field-value">${x} ${w}</div>
          </div>

          <div class="field">
            <div class="field-label">Date Created</div>
            <div class="field-value">${c(t.created_at)}</div>
          </div>

          <div class="field">
            <div class="field-label">Status</div>
            <div class="field-value">${a(t.status,"Open")}</div>
          </div>
        </div>

        <div class="footer">
          <p>Generated on ${new Date().toLocaleDateString()} at ${new Date().toLocaleTimeString()}</p>
          <p>Police Department Fleet Management System</p>
        </div>

        <script>
          // Auto-focus for better UX
          window.focus();
        <\/script>
      </body>
      </html>
    `,h=window.open("","_blank","width=800,height=600,scrollbars=yes,resizable=yes");if(!h)throw new Error("Unable to open print window. Please allow popups for this site.");return h.document.open(),h.document.write(g),h.document.close(),h.focus(),console.log("Work order PDF window opened successfully"),!0}catch(a){console.error("Error generating work order PDF:",a);const l=a instanceof Error?a.message:"Unknown error occurred";return alert(`Failed to generate PDF: ${l}

Please try again or contact support if the issue persists.`),!1}}function Zx(){var Ke;const{session:t,profile:e,isAdmin:r}=ft(),[n,s]=b.useState([]),[i,o]=b.useState(!0),[a,l]=b.useState(null),[c,f]=b.useState("all"),[d,m]=b.useState("all"),[v,y]=b.useState(""),[x,w]=b.useState(null),[g,h]=b.useState(!1),[p,_]=b.useState(""),[j,N]=b.useState(!1),[C,R]=b.useState(!1);b.useEffect(()=>{U()},[]);async function U(){try{const{data:k,error:O}=await W.from("work_orders").select(`
          *,
          vehicle:vehicles(unit_number, make, model, year),
          creator:profiles!work_orders_created_by_fkey(full_name, badge_number),
          resolver:profiles!work_orders_resolved_by_fkey(full_name, badge_number)
        `).order("created_at",{ascending:!1});if(O)throw O;s(k||[])}catch(k){l("Failed to fetch work orders"),console.error("Error:",k)}finally{o(!1)}}const L=async k=>{var O;if(x){N(!0);try{const{error:A}=await W.from("work_orders").update({status:k,resolved_at:k==="completed"?new Date().toISOString():null,resolved_by:k==="completed"?(O=(await W.auth.getUser()).data.user)==null?void 0:O.id:null,resolution_notes:p||null,updated_at:new Date().toISOString()}).eq("id",x.id);if(A)throw A;await U(),h(!1),w(null),_("")}catch(A){console.error("Error updating work order:",A)}finally{N(!1)}}},te=async k=>{var O;o(!0),l(null);try{const{error:A}=await W.from("work_orders").update({status:"completed",resolved_at:new Date().toISOString(),resolved_by:((O=t==null?void 0:t.user)==null?void 0:O.id)||null,updated_at:new Date().toISOString()}).eq("id",k.id);if(A)throw A;const{error:z}=await W.from("vehicles").update({status:"available"}).eq("id",k.vehicle_id);if(z)throw z;await U()}catch(A){l("Failed to complete work order"),console.error("Error completing work order:",A)}finally{o(!1)}},P=k=>{switch(k){case"pending":return"bg-yellow-100 text-yellow-800";case"in_progress":return"bg-blue-100 text-blue-800";case"completed":return"bg-green-100 text-green-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},ce=k=>{switch(k){case"pending":return u.jsx(Ti,{className:"w-4 h-4"});case"in_progress":return u.jsx(Ka,{className:"w-4 h-4"});case"completed":return u.jsx(hs,{className:"w-4 h-4"});case"cancelled":return u.jsx(jt,{className:"w-4 h-4"});default:return null}},He=k=>{switch(k){case"low":return"bg-gray-100 text-gray-800";case"normal":return"bg-blue-100 text-blue-800";case"high":return"bg-orange-100 text-orange-800";case"urgent":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},qe=n.filter(k=>{var Ct,yn,tu,ru,nu,su,iu;const O=c==="all"||k.status===c,A=d==="all"||k.priority===d,z=((yn=(Ct=k.vehicle)==null?void 0:Ct.unit_number)==null?void 0:yn.toLowerCase())||"",K=((tu=k.description)==null?void 0:tu.toLowerCase())||"",Qe=((ru=k.location)==null?void 0:ru.toLowerCase())||"",je=((su=(nu=k.creator)==null?void 0:nu.full_name)==null?void 0:su.toLowerCase())||"",sr=((iu=k.work_order_number)==null?void 0:iu.toString())||"",S=v.toLowerCase(),$=v===""||z.includes(S)||K.includes(S)||Qe.includes(S)||je.includes(S)||sr.includes(S);return O&&A&&$}),it=async k=>{try{const{data:O,error:A}=await W.from("work_orders").select(`
        *,
        vehicle:vehicles(unit_number, make, model, year),
        creator:profiles!work_orders_created_by_fkey(full_name, badge_number),
        resolver:profiles!work_orders_resolved_by_fkey(full_name, badge_number)
      `).eq("id",k.id).single();if(A)throw A;O&&await Xx(O)}catch(O){console.error("Error fetching complete work order:",O),alert("Failed to generate PDF. Please try again.")}};return i?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-800"})}):a?u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx(jt,{className:"h-5 w-5 text-red-400"}),u.jsx("p",{className:"ml-3 text-sm text-red-700",children:a})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Work Orders"})}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 relative",children:[u.jsx(eu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:"Search work orders...",value:v,onChange:k=>y(k.target.value),className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Yh,{className:"text-gray-400 w-5 h-5"}),u.jsxs("select",{value:c,onChange:k=>f(k.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"all",children:"All Status"}),u.jsx("option",{value:"pending",children:"Pending"}),u.jsx("option",{value:"in_progress",children:"In Progress"}),u.jsx("option",{value:"completed",children:"Completed"}),u.jsx("option",{value:"cancelled",children:"Cancelled"})]}),u.jsxs("select",{value:d,onChange:k=>m(k.target.value),className:"border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"all",children:"All Priorities"}),u.jsx("option",{value:"low",children:"Low"}),u.jsx("option",{value:"normal",children:"Normal"}),u.jsx("option",{value:"high",children:"High"}),u.jsx("option",{value:"urgent",children:"Urgent"})]})]})]}),u.jsxs("div",{className:"space-y-4",children:[qe.map(k=>{var O,A,z,K,Qe,je;return u.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex justify-between items-start mb-4",children:[u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:["Unit #",((O=k.vehicle)==null?void 0:O.unit_number)||"Unknown"," - WO#",k.work_order_number||"N/A"]}),u.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${He(k.priority)}`,children:k.priority.toUpperCase()}),u.jsxs("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${P(k.status)}`,children:[ce(k.status),u.jsx("span",{className:"ml-1 capitalize",children:k.status.replace(/_/g," ")})]})]}),u.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[((A=k.vehicle)==null?void 0:A.year)||"N/A"," ",((z=k.vehicle)==null?void 0:z.make)||"Unknown"," ",((K=k.vehicle)==null?void 0:K.model)||"Model"]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>it(k),className:"px-3 py-1 text-sm bg-gray-600 text-white rounded hover:bg-gray-500",children:[u.jsx(Ow,{className:"w-4 h-4 mr-1 inline-block"}),"Download PDF"]}),r&&k.status==="pending"&&u.jsx("button",{onClick:()=>{w(k),h(!0)},className:"px-3 py-1 text-sm bg-blue-800 text-white rounded hover:bg-blue-700",children:"Update Status"}),r&&k.status!=="completed"&&u.jsx("button",{onClick:()=>te(k),className:"px-3 py-1 text-sm bg-green-600 text-white rounded hover:bg-green-500",children:"Complete Work Order"})]})]}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[u.jsx("p",{className:"text-gray-700",children:k.description}),u.jsxs("p",{className:"text-sm text-gray-600 mt-2",children:[u.jsx("strong",{children:"Location:"})," ",k.location]})]}),u.jsxs("div",{className:"text-sm text-gray-600",children:[u.jsxs("p",{children:["Created by ",((Qe=k.creator)==null?void 0:Qe.full_name)||"Unknown User",((je=k.creator)==null?void 0:je.badge_number)&&` (Badge #${k.creator.badge_number})`," on ",new Date(k.created_at).toLocaleDateString()]}),k.resolved_at&&k.resolver&&u.jsxs("p",{className:"mt-1",children:["Resolved by ",k.resolver.full_name||"Unknown User",k.resolver.badge_number&&` (Badge #${k.resolver.badge_number})`," on ",new Date(k.resolved_at).toLocaleDateString()]}),k.resolution_notes&&u.jsxs("p",{className:"mt-2",children:[u.jsx("strong",{children:"Resolution Notes:"})," ",k.resolution_notes]})]})]})},k.id)}),qe.length===0&&u.jsxs("div",{className:"text-center py-12",children:[u.jsx(Zl,{className:"mx-auto h-12 w-12 text-gray-400"}),u.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No work orders found"}),u.jsx("p",{className:"mt-1 text-sm text-gray-500",children:v||c!=="all"||d!=="all"?"Try adjusting your search or filter criteria":"No work orders have been created yet"})]})]})]}),g&&x&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-lg mx-4",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("h2",{className:"text-xl font-semibold text-gray-900",children:["Update Work Order Status - Unit #",((Ke=x.vehicle)==null?void 0:Ke.unit_number)||"Unknown"]})}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Resolution Notes"}),u.jsx("textarea",{value:p,onChange:k=>_(k.target.value),rows:4,className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",placeholder:"Add any notes about the resolution..."})]}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[u.jsx("button",{onClick:()=>{h(!1),w(null),_("")},className:"px-4 py-2 text-gray-700 hover:text-gray-900",disabled:j,children:"Cancel"}),u.jsx("button",{onClick:()=>L("in_progress"),className:"px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-700",disabled:j,children:"Mark In Progress"}),u.jsx("button",{onClick:()=>L("completed"),className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-500",disabled:j,children:"Mark Completed"}),u.jsx("button",{onClick:()=>L("cancelled"),className:"px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-500",disabled:j,children:"Cancel Order"})]})]})]})})]})}function e_(){const t=xs(),{isAdmin:e}=ft(),[r,n]=b.useState("users"),[s,i]=b.useState([]),[o,a]=b.useState([]),[l,c]=b.useState({default_priority:"normal",require_mileage:!0,require_location:!0,auto_assign_numbers:!0,notification_enabled:!0}),[f,d]=b.useState(!0),[m,v]=b.useState(null),[y,x]=b.useState(""),[w,g]=b.useState(null),[h,p]=b.useState(null),[_,j]=b.useState(!1),[N,C]=b.useState(!1),[R,U]=b.useState({isOpen:!1,vehicleId:"",unitNumber:""}),[L,te]=b.useState({email:"",full_name:"",badge_number:"",role:"user",password:""}),[P,ce]=b.useState({unit_number:"",make:"",model:"",model_year:new Date().getFullYear()});b.useEffect(()=>{if(!e){t("/dashboard");return}r==="users"?He():r==="vehicles"?qe():r==="workorders"&&it()},[r,e,t]);async function He(){try{const{data:S,error:$}=await W.from("profiles").select(`
          id,
          role,
          full_name,
          badge_number,
          email
        `).order("full_name");if($)throw $;i(S)}catch(S){v("Failed to fetch profiles"),console.error("Error:",S)}finally{d(!1)}}async function qe(){try{const{data:S,error:$}=await W.from("vehicles").select("*").eq("is_archived",!1).order("unit_number");if($)throw $;a(S||[])}catch(S){v("Failed to fetch vehicles"),console.error("Error:",S)}finally{d(!1)}}async function it(){try{const{data:S,error:$}=await W.from("work_order_settings").select("*").limit(1).single();if($&&$.code!=="PGRST116")throw $;S&&c(S)}catch(S){v("Failed to fetch work order settings"),console.error("Error:",S)}finally{d(!1)}}async function Ke(){try{if(v(null),l.id){const{error:S}=await W.from("work_order_settings").update(l).eq("id",l.id);if(S)throw S}else{const{data:S,error:$}=await W.from("work_order_settings").insert([l]).select().single();if($)throw $;S&&c(S)}console.log("Settings saved successfully")}catch(S){v("Failed to save work order settings"),console.error("Error:",S)}}async function k(S){S.preventDefault(),v(null);try{const{data:$,error:Ct}=await W.auth.signUp({email:L.email,password:L.password,options:{emailRedirectTo:`${window.location.origin}/login`}});if(Ct)throw Ct;if($.user){const{error:yn}=await W.from("profiles").insert([{id:$.user.id,role:L.role,full_name:L.full_name,badge_number:L.badge_number||null,email:L.email}]);if(yn)throw yn}j(!1),te({email:"",full_name:"",badge_number:"",role:"user",password:""}),He()}catch($){v("Failed to create user"),console.error("Error:",$)}}async function O(S){try{const{error:$}=await W.from("profiles").update({role:S.role,full_name:S.full_name,badge_number:S.badge_number||null}).eq("id",S.id);if($)throw $;g(null),He()}catch($){v("Failed to update profile"),console.error("Error:",$)}}async function A(S){S.preventDefault(),v(null);try{const{error:$}=await W.from("vehicles").insert([{unit_number:P.unit_number,make:P.make,model:P.model,year:P.model_year,status:"available"}]);if($)throw $;C(!1),ce({unit_number:"",make:"",model:"",model_year:new Date().getFullYear()}),qe()}catch($){v("Failed to create vehicle"),console.error("Error:",$)}}async function z(S){try{const{error:$}=await W.from("vehicles").update({unit_number:S.unit_number,make:S.make,model:S.model,year:S.year}).eq("id",S.id);if($)throw $;p(null),qe()}catch($){v("Failed to update vehicle"),console.error("Error:",$)}}async function K(){var S;try{v(null);const{session:$}=ft.getState(),{error:Ct}=await W.from("vehicles").update({is_archived:!0,archived_at:new Date().toISOString(),archived_by:(S=$==null?void 0:$.user)==null?void 0:S.id}).eq("id",R.vehicleId);if(Ct)throw Ct;U({isOpen:!1,vehicleId:"",unitNumber:""}),qe()}catch($){v("Failed to archive vehicle"),console.error("Error:",$)}}const Qe=S=>{U({isOpen:!0,vehicleId:S.id,unitNumber:S.unit_number})},je=s.filter(S=>S.full_name&&S.full_name.toLowerCase().includes(y.toLowerCase())||S.email&&S.email.toLowerCase().includes(y.toLowerCase())||S.badge_number&&S.badge_number.includes(y)),sr=o.filter(S=>S.unit_number&&S.unit_number.toLowerCase().includes(y.toLowerCase())||S.make&&S.make.toLowerCase().includes(y.toLowerCase())||S.model&&S.model.toLowerCase().includes(y.toLowerCase())||S.year&&S.year.toString().includes(y));return f?u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-800"})}):u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex justify-between items-center",children:u.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Settings"})}),m&&u.jsx("div",{className:"bg-red-50 border-l-4 border-red-400 p-4",children:u.jsxs("div",{className:"flex",children:[u.jsx(jt,{className:"h-5 w-5 text-red-400"}),u.jsx("p",{className:"ml-3 text-sm text-red-700",children:m})]})}),u.jsx("div",{className:"border-b border-gray-200",children:u.jsxs("nav",{className:"-mb-px flex space-x-8",children:[u.jsxs("button",{onClick:()=>n("users"),className:`
              flex items-center px-1 py-4 border-b-2 font-medium text-sm
              ${r==="users"?"border-blue-800 text-blue-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:[u.jsx(Dw,{className:"w-5 h-5 mr-2"}),"User Management"]}),u.jsxs("button",{onClick:()=>n("vehicles"),className:`
              flex items-center px-1 py-4 border-b-2 font-medium text-sm
              ${r==="vehicles"?"border-blue-800 text-blue-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:[u.jsx(to,{className:"w-5 h-5 mr-2"}),"Fleet Management"]}),u.jsxs("button",{onClick:()=>n("workorders"),className:`
              flex items-center px-1 py-4 border-b-2 font-medium text-sm
              ${r==="workorders"?"border-blue-800 text-blue-800":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}
            `,children:[u.jsx(Zl,{className:"w-5 h-5 mr-2"}),"Work Order Settings"]})]})}),r!=="workorders"&&u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsxs("div",{className:"relative flex-1 max-w-lg",children:[u.jsx(eu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-5 h-5"}),u.jsx("input",{type:"text",placeholder:`Search ${r==="users"?"users":"vehicles"}...`,value:y,onChange:S=>x(S.target.value),className:"pl-10 pr-4 py-2 w-full border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("button",{onClick:()=>r==="users"?j(!0):C(!0),className:"ml-4 flex items-center px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-700",children:[u.jsx(Gh,{className:"w-5 h-5 mr-2"}),"Add ",r==="users"?"User":"Vehicle"]})]}),r==="workorders"&&u.jsxs("div",{className:"bg-white shadow rounded-lg",children:[u.jsxs("div",{className:"p-6 border-b border-gray-200",children:[u.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Work Order Template Settings"}),u.jsx("p",{className:"mt-1 text-sm text-gray-600",children:"Configure default settings and requirements for work orders."})]}),u.jsxs("div",{className:"p-6 space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Default Priority Level"}),u.jsxs("select",{value:l.default_priority,onChange:S=>c({...l,default_priority:S.target.value}),className:"w-full max-w-xs px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"low",children:"Low"}),u.jsx("option",{value:"normal",children:"Normal"}),u.jsx("option",{value:"high",children:"High"}),u.jsx("option",{value:"urgent",children:"Urgent"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-base font-medium text-gray-900",children:"Required Fields"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"require_mileage",checked:l.require_mileage,onChange:S=>c({...l,require_mileage:S.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"require_mileage",className:"ml-2 block text-sm text-gray-900",children:"Require current mileage"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"require_location",checked:l.require_location,onChange:S=>c({...l,require_location:S.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"require_location",className:"ml-2 block text-sm text-gray-900",children:"Require vehicle location"})]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h4",{className:"text-base font-medium text-gray-900",children:"System Settings"}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"auto_assign_numbers",checked:l.auto_assign_numbers,onChange:S=>c({...l,auto_assign_numbers:S.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"auto_assign_numbers",className:"ml-2 block text-sm text-gray-900",children:"Automatically assign work order numbers"})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",id:"notification_enabled",checked:l.notification_enabled,onChange:S=>c({...l,notification_enabled:S.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),u.jsx("label",{htmlFor:"notification_enabled",className:"ml-2 block text-sm text-gray-900",children:"Enable email notifications for work order updates"})]})]}),u.jsx("div",{className:"pt-4 border-t border-gray-200",children:u.jsxs("button",{onClick:Ke,className:"flex items-center px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-700",children:[u.jsx(Uo,{className:"w-4 h-4 mr-2"}),"Save Settings"]})})]})]}),r==="users"&&u.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Email"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Badge Number"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Role"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:je.map(S=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(w==null?void 0:w.id)===S.id?u.jsx("input",{type:"text",value:w.full_name,onChange:$=>g({...w,full_name:$.target.value}),className:"w-full px-2 py-1 border rounded"}):u.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.full_name})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm text-gray-500",children:S.email})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(w==null?void 0:w.id)===S.id?u.jsx("input",{type:"text",value:w.badge_number||"",onChange:$=>g({...w,badge_number:$.target.value}),className:"w-full px-2 py-1 border rounded"}):u.jsx("div",{className:"text-sm text-gray-500",children:S.badge_number||"-"})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(w==null?void 0:w.id)===S.id?u.jsxs("select",{value:w.role,onChange:$=>g({...w,role:$.target.value}),className:"w-full px-2 py-1 border rounded",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"})]}):u.jsx("span",{className:`
                        px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full
                        ${S.role==="admin"?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-800"}
                      `,children:S.role})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(w==null?void 0:w.id)===S.id?u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{onClick:()=>O(w),className:"text-green-600 hover:text-green-900",children:u.jsx(Uo,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>g(null),className:"text-gray-600 hover:text-gray-900",children:u.jsx(Mt,{className:"w-5 h-5"})})]}):u.jsx("button",{onClick:()=>g(S),className:"text-blue-800 hover:text-blue-900",children:u.jsx(Vc,{className:"w-5 h-5"})})})]},S.id))})]})}),r==="vehicles"&&u.jsx("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[u.jsx("thead",{className:"bg-gray-50",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit Number"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Make"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Model"}),u.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Year"}),u.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),u.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:sr.map(S=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(h==null?void 0:h.id)===S.id?u.jsx("input",{type:"text",value:h.unit_number,onChange:$=>p({...h,unit_number:$.target.value}),className:"w-full px-2 py-1 border rounded"}):u.jsx("div",{className:"text-sm font-medium text-gray-900",children:S.unit_number})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(h==null?void 0:h.id)===S.id?u.jsx("input",{type:"text",value:h.make,onChange:$=>p({...h,make:$.target.value}),className:"w-full px-2 py-1 border rounded"}):u.jsx("div",{className:"text-sm text-gray-500",children:S.make})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(h==null?void 0:h.id)===S.id?u.jsx("input",{type:"text",value:h.model,onChange:$=>p({...h,model:$.target.value}),className:"w-full px-2 py-1 border rounded"}):u.jsx("div",{className:"text-sm text-gray-500",children:S.model})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:(h==null?void 0:h.id)===S.id?u.jsx("input",{type:"number",value:h.year,onChange:$=>p({...h,year:parseInt($.target.value)}),className:"w-full px-2 py-1 border rounded"}):u.jsx("div",{className:"text-sm text-gray-500",children:S.year})}),u.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(h==null?void 0:h.id)===S.id?u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{onClick:()=>z(h),className:"text-green-600 hover:text-green-900",children:u.jsx(Uo,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>p(null),className:"text-gray-600 hover:text-gray-900",children:u.jsx(Mt,{className:"w-5 h-5"})})]}):u.jsxs("div",{className:"flex justify-end space-x-2",children:[u.jsx("button",{onClick:()=>p(S),className:"text-blue-800 hover:text-blue-900",children:u.jsx(Vc,{className:"w-5 h-5"})}),u.jsx("button",{onClick:()=>Qe(S),className:"text-red-600 hover:text-red-900",children:u.jsx(Iw,{className:"w-5 h-5"})})]})})]},S.id))})]})}),R.isOpen&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-red-600",children:"Archive Vehicle"}),u.jsx("button",{onClick:()=>U({isOpen:!1,vehicleId:"",unitNumber:""}),className:"text-gray-400 hover:text-gray-500",children:u.jsx(Mt,{className:"w-5 h-5"})})]})}),u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center mb-4",children:[u.jsx(jt,{className:"w-8 h-8 text-red-500 mr-3"}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-gray-900 font-medium",children:["Are you sure you want to archive Unit #",R.unitNumber,"?"]}),u.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"This will hide the vehicle from the active fleet but preserve all historical data. You can restore it later if needed."})]})]}),u.jsxs("div",{className:"flex justify-end gap-4",children:[u.jsx("button",{onClick:()=>U({isOpen:!1,vehicleId:"",unitNumber:""}),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),u.jsx("button",{onClick:K,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Archive Vehicle"})]})]})]})}),_&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New User"}),u.jsx("button",{onClick:()=>j(!1),className:"text-gray-400 hover:text-gray-500",children:u.jsx(Mt,{className:"w-5 h-5"})})]})}),u.jsxs("form",{onSubmit:k,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),u.jsx("input",{type:"email",required:!0,value:L.email,onChange:S=>te({...L,email:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),u.jsx("input",{type:"text",required:!0,value:L.full_name,onChange:S=>te({...L,full_name:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Badge Number"}),u.jsx("input",{type:"text",value:L.badge_number,onChange:S=>te({...L,badge_number:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),u.jsxs("select",{value:L.role,onChange:S=>te({...L,role:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[u.jsx("option",{value:"user",children:"User"}),u.jsx("option",{value:"admin",children:"Admin"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),u.jsx("input",{type:"password",required:!0,value:L.password,onChange:S=>te({...L,password:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>j(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-700",children:"Create User"})]})]})]})}),N&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white rounded-lg w-full max-w-md mx-4",children:[u.jsx("div",{className:"p-6 border-b",children:u.jsxs("div",{className:"flex justify-between items-center",children:[u.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Add New Vehicle"}),u.jsx("button",{onClick:()=>C(!1),className:"text-gray-400 hover:text-gray-500",children:u.jsx(Mt,{className:"w-5 h-5"})})]})}),u.jsxs("form",{onSubmit:A,className:"p-6 space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Unit Number"}),u.jsx("input",{type:"text",required:!0,value:P.unit_number,onChange:S=>ce({...P,unit_number:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Make"}),u.jsx("input",{type:"text",required:!0,value:P.make,onChange:S=>ce({...P,make:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),u.jsx("input",{type:"text",required:!0,value:P.model,onChange:S=>ce({...P,model:S.target.value}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Year"}),u.jsx("input",{type:"number",required:!0,min:"1900",max:new Date().getFullYear()+1,value:P.model_year,onChange:S=>ce({...P,model_year:parseInt(S.target.value)}),className:"w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),u.jsxs("div",{className:"flex justify-end gap-4 pt-4",children:[u.jsx("button",{type:"button",onClick:()=>C(!1),className:"px-4 py-2 text-gray-700 hover:text-gray-900",children:"Cancel"}),u.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-800 text-white rounded-lg hover:bg-blue-700",children:"Create Vehicle"})]})]})]})})]})}function t_(){return u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("h1",{className:"text-4xl font-bold text-gray-900",children:"404"}),u.jsx("p",{className:"text-gray-600",children:"Page not found"})]})})}function r_({children:t}){const{session:e}=ft();return e?u.jsx(u.Fragment,{children:t}):u.jsx(Kl,{to:"/login"})}function n_({children:t}){const{isAdmin:e}=ft();return e?u.jsx(u.Fragment,{children:t}):u.jsx(Kl,{to:"/dashboard"})}function s_(){const{session:t,setProfile:e}=ft();return b.useEffect(()=>{async function r(){if(t)try{const{data:n,error:s}=await W.from("profiles").select(`
                  id,
                  role,
                  full_name,
                  badge_number
                `).eq("id",t.user.id).single();if(s)throw s;e(n)}catch(n){console.error("Failed to fetch profile:",n)}}r()},[t,e]),u.jsx(Rv,{children:u.jsxs(jv,{children:[u.jsx(ht,{path:"/login",element:u.jsx(Fw,{})}),u.jsxs(ht,{path:"/",element:u.jsx(r_,{children:u.jsx(Uw,{})}),children:[u.jsx(ht,{index:!0,element:u.jsx(Kl,{to:"/dashboard",replace:!0})}),u.jsx(ht,{path:"dashboard",element:u.jsx(zw,{})}),u.jsx(ht,{path:"vehicles",element:u.jsx(Jx,{})}),u.jsx(ht,{path:"work-orders",element:u.jsx(Zx,{})}),u.jsx(ht,{path:"settings",element:u.jsx(n_,{children:u.jsx(e_,{})})})]}),u.jsx(ht,{path:"*",element:u.jsx(t_,{})})]})})}dh(document.getElementById("root")).render(u.jsx(b.StrictMode,{children:u.jsx(s_,{})}));
